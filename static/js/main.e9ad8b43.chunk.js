(this.webpackJsonplifeofpibs=this.webpackJsonplifeofpibs||[]).push([[0],[,,,,,,,,,function(e,t,i){e.exports=i.p+"static/media/gamesketchimg.a7e81afa.jpg"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAACAUlEQVRIS9VWsUoDQRCdU8mBpSISWxW5gFapTOFHBOyFFAFrv8JaSCGkFSEfYRErO0EbbSy8QrAPGE9mdmezu7ezm6CCbhPI7ZuZ997s7Gbwz1eWqr8aQIV7sj4k94ZifQfP2Fj+aFF2gEVJ+FgmN48QDrbIAR4nRhsfLxLgIOXxJTSve2KAmOqAyVttgIc7KPcvTJwYCVN8t0M4xJfLJ5SG67DxQQJOEF0hBgkF8AkYLBdvbeAYEoEk9v6U3IgRoH6vBgCsXrYxNiVUbx2A0Th2HhT+RiuPZyeAD7UjFp/1VSrKo5eNf32fdQOT8B2oqHh1aGkhaGutR0E5GO4RVFT4IofsSPUt4/nXCOQNBiZA5PFbAi8SYAUxwFN5Bqv5nkMg4YJyQJPFonGhALYQ9KfnpO8AiiXi8WzoVqo5MLnahUbzpabAQg50Z24FHQi0ouNAq23cDnYAuiQRMBZ3O/D8cUhi7TTPTV+iMrEWmhfvnwPHAX2G7PzU/9MhEbPaPJOnEI4xACKxvXKr+nJ2IJPjFyJ4SQCaQkWuRu50KOa38fExWuTwuXkAS+sNNZP1hZK6jLgQugP8NVJTLRTDGaO4ycZjflxeDWklEYRqRhL7NQbn+ZwCiHeBgP/9p0TiKVC3SP1Tc0NwP/lA+6nHmNQ2EgGHhN4UarskgViCv/DtC4s4VCDE80mRAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAADPklEQVR4Xu2bMWgUQRSG98BO1GCaHIIEm7ioCNqJnY2FXmchCCqijY2NhUoqEQsbBW0E0SJgYRctbOzETkEU1zQiQrhYnETFTjiZ2bzh3bi7M2/vzYznvWtus7c7773//967uVzSyeQx1Qp0qNVfPLxv2HTPvZfvyGtScpD4vPqTzRIDeA2gwK+u5dbfGwBXYCjky/ovffj0/SfvtX1EkPjN4LXV39skMSCMAT7w+3R+MABs46HDd85sHskdzuOTHFNA4o+Cx62/cwKIAWENcE2A0Pp7A1DV4TAFFu9cNXWcP33NHHNOAIlf7q3wg0P/oABwbAahA9oAIPHdm3EnAMf37hr53L/87LaGsHfsUgYE3l26YcD8OihJnTt40rm2a/yp1yV+WP2dJokBYQ1wNUFo/ckAQMIwCewCPsz39Kk9WeZc21V81QSQ+KUCXPo7TbIJFAN4DXA1QWj9nQBAgnWjyC6Aew8g8UsFQukvALhacOP1UAZ4hk8PACS69vpx47eBXLv/OmEkPq/+3hNAACgV+N8AJANwZvGWngCDtVUtyOzcDv386Ppl8lq+4w9fJ/F59SebJgbwGkBtAm79WwPw8NyCzv3sg5UkE2Ca40PtHPpPLACqeAxB7LegVAAOPy+bTTg03zhvwRMNAIagM98j10Idv+p6GMEpAcDGQw1tG4AsWmoBID42r/vxhfnx5pPnnSsnjuouUcdtTG66J2b9uA44Vrn1dx/5K8WoAGDBIaG2CVANqgMAG4/X5IZAxY9RPzYc6oEakwFQRaHdfVRDqde7JkDVelwQxKq/ynxc1z8BQEihfUawfY3dlSGmgMuYEKDZdVaZH20TGEsA11Q4dWBBv8d3Z7bpSzfNbq+9hcsUFSBm/U2xfg++6Xr769/189KbldZ7HdKNMQVogsAXAE7zYwPQFG+qAYBv5dQfnF44tF9Pgvuv3pqdP94wuSYJ9fUUDWDHHKz2ddqqZqwFtRa4njQBcBAVvLt1i0mmbQLU++oAwB3D3flVOQJ8/R8/2f8Lyo6HPw5i6JMCkGXZMM9zk2tRFK1hIkJgfhOWKL5ON89zk0dRFOpUlPor4o7VzOMkLQBsSD/JAPwBALNNTp/ZM+IAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAACB0lEQVRIS5WVv0uCQRjH703QhCQooaIGMwgi2qpVqKWgIcKpKfoDWgohaHBva2uqKQhao4YIrD+hIgoyByMCC0LBErT4nnyP5z3vNbvlvR/P3fdzz/M99dTF7Y/6o63lztRhatEXxbml8o6eT8VrvvVcKdxyKmPOn+pmzesEANESQvbni5sq2httAcAeQFCUQBgDYGEspL8GIDsyaaiyxTvTD70nVL2/oAFkY0YkgBSUsZivflY1KNrM4LS6erjWYw0gxeVGCcIs4CvLsRvJ+MB4u4+9hrpZ7dZrU0df+ssxANAA8S8Al1UIAOHZU88XAkFbHOO+ja7OPcDUy1tP1JLmgPVYWtcS4pXqt+qJRny3JQA3yBiA6AywzgjC4ffhvI4PqjsPQ+zywYqBkYdLQfQJhr6Ma/sKgpwv87y9v2WG8aFh3S+9vvhK4QIjiBc6rujfAThdtnZvH3HMGgEobgNAnBmQfWr5SsDasgQu09lzAAi6uZ1uZqKlBLjNeKzpTIpLX7hAsI6WOUm3AACokG/6yG7wgsyE8QAF595G1eXAs06xhJJjgtompJgNkEg2Xw2gAIB1+sQHQC8QxhbF+mO5ocGYKZSgnfuxBwAUtMulTcibUkCC2KVxeUDWVq7Lp2fvYxmczzDod4GHsP54OfIZ2qaTokFG/fPf0PUyJKCrBEHv3gX4C3fMWq16oO9EAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAC9ElEQVR4Xu2bMUgcURCGd5FABAubQOw03RYpQkgR0tgIV6h4hRJDbFIl6S0ipBK0SJ9YXSOoaHFBxRzYpAmpgkWKLQJeuuQIQgpjAkFW3pyz3D5ub9579/YttzvX7N3e7v4z/3wz+/ZE3+NXqR3wdbOPNryo1zn+c0/7mjoxsL5d/7WLxQWwWwAd+MWxtv1XBoASxkSav4bg7Z3Xl8rXVjGB9XuDZ+q/cpG4ANkUQAV+lc7PDAC58NjhE7cuE7HjfjmhficB6yfBs+0/OQG4ANkWgJoAWfuvDEBah+MkaD3Yhlwujp4mcrI1AVi/vbaSX/36zwAQLYgdmBeAp6tDPR+7MwdADmBiqQ6WNTersI3XApV9+Nw6+5OYBP1OANZPAmDbf3ICDHoBsMFNQSx6/toAoKFIojxB/fFZ2HW6auf3gLQRSOl7XvsXSTzfFgBFy58BINYApgAOSgOQAKA/aaNQ9g/XALfvLypfm3oU6uxkqgNZv70GU/VfuUgMQPfF2KA3gDIAmOjPL9s9H0tUyVPp+m7HsL5d/xkATRKLBqA2ANP1OZgAd7f+gXVfn9yE7WH1vfa1VLx/NV9JTBzUc6Uvx1i0/LWL5tqAWq0WffuwG9ehbABknT8JgNyBWIm1Ny/h7cryW9iu7zXIa6l0vHyMbIBr/aLnTxaNC5CcQEUDUBsAHMEH956BFzMntVzWAK7000awK/20NZAtfRKArAOgbgus330RnDsAcuFcPwWwftIBU/+NJ4CrAqQ9hrnST5tArvSzzp8BIO5BpQcgzZ+ppc/RyMgYfF1/N06CRN3rdb4X2uL4vPSFdvXFd4jh/PyHd7z50Gn+ndoihn70jQNnAEoOwKOZnejG8Cg07sfdijFIOp0vjhW6Yvvp4LE/udCA9y71MV7U/v/3N8Sim4fp8Z05d3phej3jwBmANnylBUD8m1oQBDF4YRgaw6RJb/zHoZz0IdwgCOI4wjAUu5zk30UX7TPSNzrpWpEBuDZikAG4AoTccE5ZZQccAAAAAElFTkSuQmCC"},,function(e,t,i){e.exports=i(23)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var s=i(3),n=i.n(s),o=i(8),a=i.n(o),r=(i(20),i(21),i(0)),c=i(1),h=i(4),l=i(2),u=i(6),p=i(5),f=(i(22),i(9)),g=i.n(f),v=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"registerKeyEvents",value:function(){window.onkeydown=function(t){switch(t.keyCode){case 37:t.preventDefault(),e.heldLeft=!0;break;case 32:case 38:t.preventDefault(),e.heldUp=!0;break;case 39:t.preventDefault(),e.heldRight=!0;break;case 40:t.preventDefault(),e.heldDown=!0;break;case 27:t.preventDefault(),e.Escape=!0;break;default:return}return!1},window.onkeyup=function(t){switch(t.keyCode){case 37:t.preventDefault(),e.heldLeft=!1;break;case 32:case 38:t.preventDefault(),e.heldUp=!1;break;case 39:t.preventDefault(),e.heldRight=!1;break;case 40:t.preventDefault(),e.heldDown=!1;break;default:return}return!1}}}]),e}();v.heldLeft=!1,v.heldRight=!1,v.heldUp=!1,v.heldDown=!1,v.Escape=!1;var y=v,d=function e(){Object(r.a)(this,e)};d.canvasSize={w:755,h:425},d.gravity=2,d.fps=30,d.gameInterval=void 0;var A,P=function(){function e(t,i,s,n,o){Object(r.a)(this,e),this._name=void 0,this._backgroundColor=void 0,this._map=void 0,this._enemies=void 0,this._items=void 0,this._name=t,this._backgroundColor=i,this._map=s,this._enemies=n,this._items=o}return Object(c.a)(e,[{key:"name",get:function(){return this._name}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"map",get:function(){return this._map}},{key:"enemies",get:function(){return this._enemies}},{key:"items",get:function(){return this._items}}]),e}(),m=function(){function e(t,i,s,n,o,a,c){Object(r.a)(this,e),this._xPos=void 0,this._yPos=void 0,this._collision=void 0,this._spriteMap=void 0,this._spritePos=void 0,this._sourceSize=void 0,this._targetSize=void 0,this._xPos=t,this._yPos=i,this._collision=c,this._spriteMap=s,this._spritePos=n,this._sourceSize=o,this._targetSize=a}return Object(c.a)(e,[{key:"xPos",get:function(){return this._xPos},set:function(e){this._xPos=e}},{key:"yPos",get:function(){return this._yPos},set:function(e){this._yPos=e}},{key:"spriteMap",get:function(){return this._spriteMap},set:function(e){this._spriteMap=e}},{key:"spritePos",get:function(){return this._spritePos},set:function(e){this._spritePos=e}},{key:"sourceSize",get:function(){return this._sourceSize},set:function(e){this._sourceSize=e}},{key:"targetSize",get:function(){return this._targetSize},set:function(e){this._targetSize=e}},{key:"collision",get:function(){return this._collision}}]),e}(),k=function(e){function t(e,i,s,n,o,a,c){return Object(r.a)(this,t),Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,o,a,c))}return Object(p.a)(t,e),t}(m),S=function(){function e(t,i){Object(r.a)(this,e),this._tileX=void 0,this._tileY=void 0,this._tileX=t,this._tileY=i}return Object(c.a)(e,[{key:"getXPosForSpriteWidth",value:function(e){return e*this._tileX}},{key:"getYPosForSpriteHeight",value:function(e){return e*this._tileY}},{key:"tileX",get:function(){return this._tileX},set:function(e){this._tileX=e}},{key:"tileY",get:function(){return this._tileY},set:function(e){this._tileY=e}}]),e}(),_=i(10),b=i.n(_),O=function(e){function t(e,i){Object(r.a)(this,t);var s=new Image;s.src=b.a;var n=new S(0,0);return Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,16,32,!0))}return Object(p.a)(t,e),t}(k),z=function(e){function t(e,i,s,n,o,a,c,u,p,f,g,v){var y;return Object(r.a)(this,t),(y=Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,o,a,v)))._xSpeed=void 0,y._ySpeed=void 0,y._xVelocity=void 0,y._xVelocityJump=void 0,y._yVelocity=void 0,y._friction=void 0,y._lives=void 0,y._xSpeed=0,y._ySpeed=0,y._xVelocity=c,y._xVelocityJump=u,y._yVelocity=p,y._friction=f,y._lives=g,y}return Object(p.a)(t,e),Object(c.a)(t,[{key:"fellOutOfMap",value:function(){this.takeDamage()}},{key:"addLife",value:function(){this._lives+=1}},{key:"takeDamage",value:function(){this._lives-=1}},{key:"kill",value:function(){this._lives=0}},{key:"isDead",value:function(){return this._lives<=0}},{key:"xSpeed",get:function(){return this._xSpeed},set:function(e){this._xSpeed=e}},{key:"ySpeed",get:function(){return this._ySpeed},set:function(e){this._ySpeed=e}},{key:"xVelocity",get:function(){return this._xVelocity}},{key:"xVelocityJump",get:function(){return this._xVelocityJump}},{key:"yVelocity",get:function(){return this._yVelocity}},{key:"friction",get:function(){return this._friction},set:function(e){this._friction=e}},{key:"lives",get:function(){return this._lives},set:function(e){this._lives=e}}]),t}(m),w=function(e){function t(e,i,s,n,o,a,c,u,p,f,g,v){return Object(r.a)(this,t),Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,o,a,c,u,p,f,g,v))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"fellOutOfMap",value:function(){this.kill()}}]),t}(z),x=i(11),C=i.n(x),j=function(e){function t(e,i){Object(r.a)(this,t);var s=new Image;s.src=C.a;var n=new S(0,0);return Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,32,32,1.5,1,25,.8,1,!0))}return Object(p.a)(t,e),t}(w),E=function(){function e(t,i,s,n,o){Object(r.a)(this,e),this._xPosCanvas=void 0,this._yPosCanvas=void 0,this._spritePos=void 0,this._collision=void 0,this._solid=void 0,this._hurtful=void 0,this._type=void 0,this._targetSize=void 0,this._xPosCanvas=0,this._yPosCanvas=0,this._spritePos=t,this._collision=i,this._solid=s,this._hurtful=n,this._type=o,this._targetSize=e.targetSize}return Object(c.a)(e,[{key:"cloneTile",value:function(){var t=new e(new S(this.spritePos.tileX,this.spritePos.tileY),this.collision,this.solid,this.hurtful,this.type);return t.xPos=this._xPosCanvas,t.yPos=this._yPosCanvas,t}},{key:"xPos",get:function(){return this._xPosCanvas},set:function(e){this._xPosCanvas=e}},{key:"yPos",get:function(){return this._yPosCanvas},set:function(e){this._yPosCanvas=e}},{key:"spritePos",get:function(){return this._spritePos},set:function(e){this._spritePos=e}},{key:"collision",get:function(){return this._collision},set:function(e){this._collision=e}},{key:"solid",get:function(){return this._solid},set:function(e){this._solid=e}},{key:"hurtful",get:function(){return this._hurtful},set:function(e){this._hurtful=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"targetSize",get:function(){return this._targetSize}}],[{key:"sourceSize",get:function(){return e._sourceSize}},{key:"targetSize",get:function(){return e._targetSize}}]),e}();E._sourceSize=16,E._targetSize=32,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HIDDEN=1]="HIDDEN",e[e.RESPAWN=2]="RESPAWN",e[e.EXIT=3]="EXIT",e[e.TRAMPOLINE=4]="TRAMPOLINE"}(A||(A={}));var D=i(12),L=i.n(D),Q=function(){function e(t){Object(r.a)(this,e),this._mapTiles=void 0,this._spriteMap=void 0,this._numberOfDisplayedTilesWidth=void 0,this._numberOfDisplayTilesHeight=void 0,this._mapWidth=void 0,this._mapHeight=void 0,this._mapTiles=this.generateMapTiles(t),this._spriteMap=new Image,this._spriteMap.src=L.a,this._numberOfDisplayedTilesWidth=d.canvasSize.w/E.targetSize,this._numberOfDisplayTilesHeight=d.canvasSize.h/E.targetSize,this._mapWidth=E.targetSize*this._mapTiles[0].length,this._mapHeight=E.targetSize*this._mapTiles.length}return Object(c.a)(e,[{key:"generateMapTiles",value:function(t){var i=[];return t.forEach((function(t){for(var s=[],n=0;n<t.length;n++)s.push(e.tiles[t[n]].cloneTile());i.push(s)})),i}},{key:"getGroundLevel",value:function(){return this.mapHeight-2*E.targetSize}},{key:"mapTiles",get:function(){return this._mapTiles},set:function(e){this._mapTiles=e}},{key:"spriteMap",get:function(){return this._spriteMap},set:function(e){this._spriteMap=e}},{key:"numberOfDisplayedTilesWidth",get:function(){return this._numberOfDisplayedTilesWidth}},{key:"mapWidth",get:function(){return this._mapWidth}},{key:"mapHeight",get:function(){return this._mapHeight}}]),e}();Q.tiles={" ":new E(new S(0,0),!1,!1,!1,A.DEFAULT),"#":new E(new S(1,0),!0,!0,!1,A.DEFAULT)};var I=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getCoordinateForRelativeMapPos",value:function(e){return E.targetSize*e}}]),e}();I.levels=[new P("1","grey",new Q(["                                  ","                                  ","                                  ","                                  ","                                  ","                  #######         ","                                  ","                                  ","##################################"]),[new j(I.getCoordinateForRelativeMapPos(20),I.getCoordinateForRelativeMapPos(4))],[new O(I.getCoordinateForRelativeMapPos(10),I.getCoordinateForRelativeMapPos(1))]),new P("2","grey",new Q(["","",""]),[new j(0,0)],[new O(0,0)])];var R=I,B=i(14),N=i(13),T=i.n(N),M=function(e){function t(e,i){var s;Object(r.a)(this,t);var n=new Image;n.src=T.a;var o=new S(0,0);return(s=Object(h.a)(this,Object(l.a)(t).call(this,e,i,n,o,32,42,1.5,1,25,.8,3,!0)))._speedLimitX=void 0,s._speedLimitY=void 0,s._tookDamage=void 0,s._speedLimitX=12,s._speedLimitY=25,s._tookDamage=!1,s}return Object(p.a)(t,e),Object(c.a)(t,[{key:"accelerateRight",value:function(){this.xSpeed<this._speedLimitX&&(0===this.ySpeed?this.xSpeed+=this.xVelocity:this.xSpeed+=this.xVelocityJump)}},{key:"accelerateLeft",value:function(){this.xSpeed>-this._speedLimitX&&(0===this.ySpeed?this.xSpeed-=this.xVelocity:this.xSpeed-=this.xVelocityJump)}},{key:"jump",value:function(){0===this.ySpeed&&(this.ySpeed-=this.yVelocity)}},{key:"smallJump",value:function(){0===this.ySpeed&&(this.ySpeed-=this.yVelocity/2)}},{key:"animate",value:function(){}},{key:"applyGravity",value:function(e){this.ySpeed=this.ySpeed+e>this.speedLimitY?this.speedLimitY:this.ySpeed+e}},{key:"updatePos",value:function(){this.xPos+=this.xSpeed,this.yPos+=this.ySpeed}},{key:"resetPlayer",value:function(){this.lives=3,this._tookDamage=!1}},{key:"fellOutOfMap",value:function(){this.takeDamage()}},{key:"takeDamage",value:function(){Object(B.a)(Object(l.a)(t.prototype),"takeDamage",this).call(this),this._tookDamage=!0}},{key:"speedLimitY",get:function(){return this._speedLimitY},set:function(e){this._speedLimitY=e}},{key:"tookDamage",get:function(){return this._tookDamage},set:function(e){this._tookDamage=e}}]),t}(z),F=function(){function e(t,i,s,n){Object(r.a)(this,e),this._top=void 0,this._bot=void 0,this._right=void 0,this._left=void 0,this._top=t||!1,this._bot=i||!1,this._right=n||!1,this._left=s||!1}return Object(c.a)(e,[{key:"doesCollide",value:function(){return this._top||this._bot||this._right||this._left}},{key:"top",get:function(){return this._top},set:function(e){this._top=e}},{key:"bot",get:function(){return this._bot},set:function(e){this._bot=e}},{key:"right",get:function(){return this._right},set:function(e){this._right=e}},{key:"left",get:function(){return this._left},set:function(e){this._left=e}}]),e}(),V=function(){function e(t){Object(r.a)(this,e),this._collisionObjects=void 0,this._collisionObjects=t||[]}return Object(c.a)(e,[{key:"collisionObjects",get:function(){return this._collisionObjects},set:function(e){this._collisionObjects=e}}],[{key:"checkCollision",value:function(e,t){var i=new F,s=e.xPos+e.targetSize/2,n=e.yPos+e.targetSize/2,o=e.xPos+e.targetSize,a=e.yPos+e.targetSize,r=t.xPos+t.targetSize,c=t.yPos+t.targetSize;return this.inRange(s,t.xPos-.25*t.targetSize,t.xPos+1.25*t.targetSize)&&(this.inRange(a,t.yPos,c)&&e.yPos<t.yPos?i.bot=!0:this.inRange(e.yPos,t.yPos,c)&&(i.top=!0)),this.inRange(n,t.yPos-.25*t.targetSize,t.yPos+1.25*t.targetSize)&&(this.inRange(o,t.xPos,r)&&(i.right=!0),this.inRange(e.xPos,t.xPos,r)&&(i.left=!0)),i}},{key:"processPlayerNpcCollision",value:function(e,t,i){console.log(i),i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0,t.takeDamage(),e.smallJump()):(i.top||i.right||i.left)&&e.takeDamage()}},{key:"processPlayerMapTileCollision",value:function(e,t,i){t.solid&&(i.top?(e.yPos=t.yPos+t.targetSize,e.ySpeed=1):i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0):i.right?(e.xPos=t.xPos-e.targetSize,e.xSpeed=0):i.left&&(e.xPos=t.xPos+t.targetSize,e.xSpeed=0))}},{key:"processPlayerItemCollision",value:function(e,t,i){}},{key:"inRange",value:function(e,t,i){return e>=t&&e<=i}}]),e}(),X=function(e){function t(e){var i;return Object(r.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).gameCanvasRef=void 0,i.gameSketchImgRef=void 0,i.ctx=void 0,i.collisionMap=new V,i.ticks=0,i.levelPosX=0,i.levelPosXStart=0,i.currentLevel=R.levels[0],i.player=new M(0,0),i.characters=[],i.items=[],i.gameCanvasRef=n.a.createRef(),i.gameSketchImgRef=n.a.createRef(),i.gameLoop=i.gameLoop.bind(Object(u.a)(i)),i.startGame(),i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.gameCanvasRef.current;this.ctx=t.getContext("2d");var i=this.gameSketchImgRef.current;null!=this.ctx&&null!=i&&null!=i.currentSrc&&(i.onload=function(){e.ctx.drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height)})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{ref:this.gameCanvasRef,width:d.canvasSize.w,height:d.canvasSize.h}),n.a.createElement("img",{ref:this.gameSketchImgRef,src:g.a,className:"hidden",alt:"gameSketchImg"}))}},{key:"startGame",value:function(){y.registerKeyEvents(),this.initializeLevel(),window.clearInterval(d.gameInterval),d.gameInterval=setInterval(this.gameLoop,1e3/d.fps)}},{key:"gameLoop",value:function(){this.ticks++,this.collisionMap.collisionObjects=[],this.drawLevel(),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.enemies),this.updatePlayer(),this.animateECTS(),this.drawItems(),this.drawCharacters(),this.player.tookDamage&&this.respawnPlayer()}},{key:"animateECTS",value:function(){var e=this;this.currentLevel.items.forEach((function(t){if(e.ticks%10===0)switch(t.spritePos.tileX){case 0:t.spritePos.tileX=1;break;case 1:t.spritePos.tileX=2;break;case 2:t.spritePos.tileX=0}}))}},{key:"initializeLevel",value:function(){this.collisionMap.collisionObjects=[],this.player.resetPlayer(),this.respawnPlayer(),this.levelPosX=0,this.characters=this.currentLevel.enemies.slice(),this.characters.push(this.player),this.items=this.currentLevel.items}},{key:"respawnPlayer",value:function(){this.player.xPos=0,this.player.yPos=this.currentLevel.map.getGroundLevel()-10,this.player.xSpeed=0,this.player.ySpeed=0,this.player.tookDamage=!1,this.levelPosX=0}},{key:"drawLevel",value:function(){var e=this;this.ctx.clearRect(0,0,d.canvasSize.w,d.canvasSize.h),this.levelPosX<0&&(this.levelPosX=0),this.levelPosXStart=this.levelPosX;var t=Math.trunc(this.levelPosX/E.targetSize),i=this.levelPosX%E.targetSize,s=t+this.currentLevel.map.numberOfDisplayedTilesWidth;this.currentLevel.map.mapTiles.forEach((function(n,o){e.drawLayer(n,o,t,s,i)}))}},{key:"drawLayer",value:function(e,t,i,s,n){for(var o=i;o<s;o++){var a=e[o];a&&(a.xPos=o*E.targetSize-n,a.yPos=t*E.targetSize,this.ctx.drawImage(this.currentLevel.map.spriteMap,a.spritePos.getXPosForSpriteWidth(E.sourceSize+1),a.spritePos.getYPosForSpriteHeight(E.sourceSize+1),E.sourceSize-.8,E.sourceSize-.8,a.xPos-i*E.targetSize,a.yPos,E.targetSize,E.targetSize),a.collision&&this.collisionMap.collisionObjects.push(a.cloneTile()))}}},{key:"drawCharacters",value:function(){var e=this;this.characters.forEach((function(t){e.ctx.drawImage(t.spriteMap,t.spritePos.getXPosForSpriteWidth(t.sourceSize),t.spritePos.getYPosForSpriteHeight(t.sourceSize),t.sourceSize,t.sourceSize,t.xPos-e.levelPosX,t.yPos,t.targetSize,t.targetSize)}))}},{key:"drawItems",value:function(){var e=this;this.currentLevel.items.forEach((function(t){e.ctx.drawImage(t.spriteMap,t.spritePos.getXPosForSpriteWidth(t.sourceSize),t.spritePos.getYPosForSpriteHeight(t.sourceSize),t.sourceSize,t.sourceSize,t.xPos-e.levelPosX,t.yPos,t.targetSize,t.targetSize)}))}},{key:"updatePlayer",value:function(){y.heldRight&&this.player.accelerateRight(),y.heldLeft&&this.player.accelerateLeft(),y.heldUp&&this.player.jump(),this.player.animate(),this.player.applyGravity(d.gravity),this.player.updatePos(),this.checkLevelEdgeCollision(this.player),this.checkPlayerCollisions()}},{key:"checkLevelEdgeCollision",value:function(e){e.xPos<0?(e.xPos=0,e.xSpeed=0):e.xPos+e.targetSize>d.canvasSize.w&&(e.xPos=d.canvasSize.w-e.targetSize,e.xSpeed=0),e.yPos>this.currentLevel.map.mapHeight-E.targetSize&&e.fellOutOfMap()}},{key:"checkPlayerCollisions",value:function(){var e=this;this.collisionMap.collisionObjects.forEach((function(t){var i=V.checkCollision(e.player,t);i.doesCollide()&&(t instanceof w?V.processPlayerNpcCollision(e.player,t,i):t instanceof E?V.processPlayerMapTileCollision(e.player,t,i):t instanceof k&&V.processPlayerItemCollision(e.player,t,i))}))}},{key:"checkEnemyCollisions",value:function(){}}]),t}(n.a.Component);var U=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h1",null,"Life of PiBS"),n.a.createElement(X,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(n.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.e9ad8b43.chunk.js.map