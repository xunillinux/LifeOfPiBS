{"version":3,"sources":["game/images/gamesketchimg.jpg","game/images/ectsSprite.jpg","game/images/profSprite.jpg","game/images/mapTileImage.jpg","game/images/playerSprite.jpg","game/Controls.tsx","game/Config.tsx","game/Map/MapTileType.tsx","game/Levels/Level.tsx","game/Entities/Entity.tsx","game/Entities/items/Item.tsx","game/SpritePosition.tsx","game/Entities/items/Ects.tsx","game/Entities/characters/Character.tsx","game/Entities/characters/Npc.tsx","game/Entities/characters/Prof.tsx","game/Map/MapTile.tsx","game/Map/Map.tsx","game/Levels/Levels.tsx","game/Entities/characters/Player.tsx","game/Collision/Collision.tsx","game/Collision/CollisionMap.tsx","game/Gamecanvas.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","Controls","window","onkeydown","e","keyCode","preventDefault","heldLeft","heldUp","heldRight","heldDown","Escape","onkeyup","Config","canvasSize","w","h","gravity","fps","gameInterval","MapTileType","Level","name","backgroundColor","map","enemies","ects","_name","_backgroundColor","_map","_enemies","_items","this","Entity","xPos","yPos","spriteMap","spritePos","sourceSize","targetSize","collision","_xPos","_yPos","_collision","_spriteMap","_spritePos","_sourceSize","_targetSize","value","Item","SpritePosition","tileX","tileY","_tileX","_tileY","spriteSizeWidth","spriteSizeHeight","Ects","Image","src","ectsSpriteImage","Character","xVelocity","xVelocityJump","yVelocity","friction","lives","_xSpeed","_ySpeed","_xVelocity","_xVelocityJump","_yVelocity","_friction","_lives","takeDamage","Npc","kill","Prof","profSpriteImage","MapTile","solid","hurtful","type","_xPosCanvas","_yPosCanvas","_solid","_hurtful","_type","newMapTile","Map","template","_mapTiles","_numberOfDisplayedTilesWidth","_numberOfDisplayTilesHeight","_mapWidth","_mapHeight","generateMapTiles","mapTileImage","length","mapTiles","forEach","layer","currentLayerTiles","i","push","tiles","cloneTile","mapHeight","DEFAULT","Levels","relativeMapPos","levels","getCoordinateForRelativeMapPos","Player","playerSpriteImage","_speedLimitX","_speedLimitY","_tookDamage","xSpeed","ySpeed","speedLimitY","Collision","top","bot","left","right","_top","_bot","_right","_left","CollisionMap","collisionObjects","_collisionObjects","obj1","obj2","obj1MiddleX","obj1MiddleY","obj1RightX","obj1BotY","obj2RightX","obj2BotY","inRange","player","npc","collides","console","log","smallJump","mapTile","x","min","max","Canvas","props","gameCanvasRef","gameSketchImgRef","ctx","collisionMap","ticks","levelPosX","levelPosXStart","currentLevel","characters","items","React","createRef","gameLoop","bind","startGame","canvas","current","getContext","img","currentSrc","onload","drawImage","width","height","ref","gamesketchimg","className","alt","registerKeyEvents","initializeLevel","clearInterval","setInterval","drawLevel","concat","updatePlayer","animateECTS","drawItems","drawCharacters","tookDamage","respawnPlayer","item","resetPlayer","slice","getGroundLevel","clearRect","indexFirstTile","Math","trunc","offset_x","indexLastTile","numberOfDisplayedTilesWidth","mapTileLayer","index","drawLayer","currentLayerIndex","indexCurrentTile","getXPosForSpriteWidth","getYPosForSpriteHeight","character","accelerateRight","accelerateLeft","jump","animate","applyGravity","updatePos","checkLevelEdgeCollision","checkPlayerCollisions","fellOutOfMap","collisionObject","checkCollision","doesCollide","processPlayerNpcCollision","processPlayerMapTileCollision","processPlayerItemCollision","Component","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.e9ad8b43.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gamesketchimg.a7e81afa.jpg\";","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAACAUlEQVRIS9VWsUoDQRCdU8mBpSISWxW5gFapTOFHBOyFFAFrv8JaSCGkFSEfYRErO0EbbSy8QrAPGE9mdmezu7ezm6CCbhPI7ZuZ997s7Gbwz1eWqr8aQIV7sj4k94ZifQfP2Fj+aFF2gEVJ+FgmN48QDrbIAR4nRhsfLxLgIOXxJTSve2KAmOqAyVttgIc7KPcvTJwYCVN8t0M4xJfLJ5SG67DxQQJOEF0hBgkF8AkYLBdvbeAYEoEk9v6U3IgRoH6vBgCsXrYxNiVUbx2A0Th2HhT+RiuPZyeAD7UjFp/1VSrKo5eNf32fdQOT8B2oqHh1aGkhaGutR0E5GO4RVFT4IofsSPUt4/nXCOQNBiZA5PFbAi8SYAUxwFN5Bqv5nkMg4YJyQJPFonGhALYQ9KfnpO8AiiXi8WzoVqo5MLnahUbzpabAQg50Z24FHQi0ouNAq23cDnYAuiQRMBZ3O/D8cUhi7TTPTV+iMrEWmhfvnwPHAX2G7PzU/9MhEbPaPJOnEI4xACKxvXKr+nJ2IJPjFyJ4SQCaQkWuRu50KOa38fExWuTwuXkAS+sNNZP1hZK6jLgQugP8NVJTLRTDGaO4ycZjflxeDWklEYRqRhL7NQbn+ZwCiHeBgP/9p0TiKVC3SP1Tc0NwP/lA+6nHmNQ2EgGHhN4UarskgViCv/DtC4s4VCDE80mRAAAAAElFTkSuQmCC\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAADPklEQVR4Xu2bMWgUQRSG98BO1GCaHIIEm7ioCNqJnY2FXmchCCqijY2NhUoqEQsbBW0E0SJgYRctbOzETkEU1zQiQrhYnETFTjiZ2bzh3bi7M2/vzYznvWtus7c7773//967uVzSyeQx1Qp0qNVfPLxv2HTPvZfvyGtScpD4vPqTzRIDeA2gwK+u5dbfGwBXYCjky/ovffj0/SfvtX1EkPjN4LXV39skMSCMAT7w+3R+MABs46HDd85sHskdzuOTHFNA4o+Cx62/cwKIAWENcE2A0Pp7A1DV4TAFFu9cNXWcP33NHHNOAIlf7q3wg0P/oABwbAahA9oAIPHdm3EnAMf37hr53L/87LaGsHfsUgYE3l26YcD8OihJnTt40rm2a/yp1yV+WP2dJokBYQ1wNUFo/ckAQMIwCewCPsz39Kk9WeZc21V81QSQ+KUCXPo7TbIJFAN4DXA1QWj9nQBAgnWjyC6Aew8g8UsFQukvALhacOP1UAZ4hk8PACS69vpx47eBXLv/OmEkPq/+3hNAACgV+N8AJANwZvGWngCDtVUtyOzcDv386Ppl8lq+4w9fJ/F59SebJgbwGkBtAm79WwPw8NyCzv3sg5UkE2Ca40PtHPpPLACqeAxB7LegVAAOPy+bTTg03zhvwRMNAIagM98j10Idv+p6GMEpAcDGQw1tG4AsWmoBID42r/vxhfnx5pPnnSsnjuouUcdtTG66J2b9uA44Vrn1dx/5K8WoAGDBIaG2CVANqgMAG4/X5IZAxY9RPzYc6oEakwFQRaHdfVRDqde7JkDVelwQxKq/ynxc1z8BQEihfUawfY3dlSGmgMuYEKDZdVaZH20TGEsA11Q4dWBBv8d3Z7bpSzfNbq+9hcsUFSBm/U2xfg++6Xr769/189KbldZ7HdKNMQVogsAXAE7zYwPQFG+qAYBv5dQfnF44tF9Pgvuv3pqdP94wuSYJ9fUUDWDHHKz2ddqqZqwFtRa4njQBcBAVvLt1i0mmbQLU++oAwB3D3flVOQJ8/R8/2f8Lyo6HPw5i6JMCkGXZMM9zk2tRFK1hIkJgfhOWKL5ON89zk0dRFOpUlPor4o7VzOMkLQBsSD/JAPwBALNNTp/ZM+IAAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAACB0lEQVRIS5WVv0uCQRjH703QhCQooaIGMwgi2qpVqKWgIcKpKfoDWgohaHBva2uqKQhao4YIrD+hIgoyByMCC0LBErT4nnyP5z3vNbvlvR/P3fdzz/M99dTF7Y/6o63lztRhatEXxbml8o6eT8VrvvVcKdxyKmPOn+pmzesEANESQvbni5sq2httAcAeQFCUQBgDYGEspL8GIDsyaaiyxTvTD70nVL2/oAFkY0YkgBSUsZivflY1KNrM4LS6erjWYw0gxeVGCcIs4CvLsRvJ+MB4u4+9hrpZ7dZrU0df+ssxANAA8S8Al1UIAOHZU88XAkFbHOO+ja7OPcDUy1tP1JLmgPVYWtcS4pXqt+qJRny3JQA3yBiA6AywzgjC4ffhvI4PqjsPQ+zywYqBkYdLQfQJhr6Ma/sKgpwv87y9v2WG8aFh3S+9vvhK4QIjiBc6rujfAThdtnZvH3HMGgEobgNAnBmQfWr5SsDasgQu09lzAAi6uZ1uZqKlBLjNeKzpTIpLX7hAsI6WOUm3AACokG/6yG7wgsyE8QAF595G1eXAs06xhJJjgtompJgNkEg2Xw2gAIB1+sQHQC8QxhbF+mO5ocGYKZSgnfuxBwAUtMulTcibUkCC2KVxeUDWVq7Lp2fvYxmczzDod4GHsP54OfIZ2qaTokFG/fPf0PUyJKCrBEHv3gX4C3fMWq16oO9EAAAAAElFTkSuQmCC\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAC9ElEQVR4Xu2bMUgcURCGd5FABAubQOw03RYpQkgR0tgIV6h4hRJDbFIl6S0ipBK0SJ9YXSOoaHFBxRzYpAmpgkWKLQJeuuQIQgpjAkFW3pyz3D5ub9579/YttzvX7N3e7v4z/3wz+/ZE3+NXqR3wdbOPNryo1zn+c0/7mjoxsL5d/7WLxQWwWwAd+MWxtv1XBoASxkSav4bg7Z3Xl8rXVjGB9XuDZ+q/cpG4ANkUQAV+lc7PDAC58NjhE7cuE7HjfjmhficB6yfBs+0/OQG4ANkWgJoAWfuvDEBah+MkaD3Yhlwujp4mcrI1AVi/vbaSX/36zwAQLYgdmBeAp6tDPR+7MwdADmBiqQ6WNTersI3XApV9+Nw6+5OYBP1OANZPAmDbf3ICDHoBsMFNQSx6/toAoKFIojxB/fFZ2HW6auf3gLQRSOl7XvsXSTzfFgBFy58BINYApgAOSgOQAKA/aaNQ9g/XALfvLypfm3oU6uxkqgNZv70GU/VfuUgMQPfF2KA3gDIAmOjPL9s9H0tUyVPp+m7HsL5d/xkATRKLBqA2ANP1OZgAd7f+gXVfn9yE7WH1vfa1VLx/NV9JTBzUc6Uvx1i0/LWL5tqAWq0WffuwG9ehbABknT8JgNyBWIm1Ny/h7cryW9iu7zXIa6l0vHyMbIBr/aLnTxaNC5CcQEUDUBsAHMEH956BFzMntVzWAK7000awK/20NZAtfRKArAOgbgus330RnDsAcuFcPwWwftIBU/+NJ4CrAqQ9hrnST5tArvSzzp8BIO5BpQcgzZ+ppc/RyMgYfF1/N06CRN3rdb4X2uL4vPSFdvXFd4jh/PyHd7z50Gn+ndoihn70jQNnAEoOwKOZnejG8Cg07sfdijFIOp0vjhW6Yvvp4LE/udCA9y71MV7U/v/3N8Sim4fp8Z05d3phej3jwBmANnylBUD8m1oQBDF4YRgaw6RJb/zHoZz0IdwgCOI4wjAUu5zk30UX7TPSNzrpWpEBuDZikAG4AoTccE5ZZQccAAAAAElFTkSuQmCC\"","\r\nclass Controls {\r\n\r\n    static heldLeft: boolean = false;\r\n    static heldRight: boolean = false;\r\n    static heldUp: boolean = false;\r\n    static heldDown: boolean = false;\r\n    static Escape: boolean = false;\r\n\r\n    static registerKeyEvents(){\r\n        window.onkeydown = function (e: any) {\r\n            switch (e.keyCode) {\r\n                case 37: // left\r\n                    e.preventDefault();\r\n                    Controls.heldLeft = true;\r\n                    break;\r\n                case 32: // space\r\n                    e.preventDefault();\r\n                    Controls.heldUp = true;\r\n                    break;\r\n                case 38: // up\r\n                    e.preventDefault();\r\n                    Controls.heldUp = true;\r\n                    break;\r\n                case 39: // right\r\n                    e.preventDefault();\r\n                    Controls.heldRight = true;\r\n                    break;\r\n                case 40: // down\r\n                    e.preventDefault();\r\n                    Controls.heldDown = true;\r\n                    break;\r\n                case 27: // escape\r\n                    e.preventDefault();\r\n                    Controls.Escape = true;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            return false;\r\n        };\r\n    \r\n        window.onkeyup = function (e: any) {\r\n            switch (e.keyCode) {\r\n                case 37: // left\r\n                    e.preventDefault();\r\n                    Controls.heldLeft = false;\r\n                    break;\r\n                case 32: // space\r\n                    e.preventDefault();\r\n                    Controls.heldUp = false;\r\n                    break;\r\n                case 38: // up\r\n                    e.preventDefault();\r\n                    Controls.heldUp = false;\r\n                    break;\r\n                case 39: // right\r\n                    e.preventDefault();\r\n                    Controls.heldRight = false;\r\n                    break;\r\n                case 40: // down\r\n                    e.preventDefault();\r\n                    Controls.heldDown = false;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Controls;","export default class Config {\r\n\r\n    static canvasSize: any = {w:755, h:425};\r\n    static gravity: number = 2;\r\n    static fps: number = 30;\r\n    static gameInterval: any;\r\n\r\n}","export enum MapTileType{\r\n    DEFAULT,\r\n    HIDDEN,\r\n    RESPAWN,\r\n    EXIT,\r\n    TRAMPOLINE\r\n}","import Npc from \"../Entities/characters/Npc\";\r\nimport Item from \"../Entities/items/Item\";\r\nimport Map from \"../Map/Map\";\r\n\r\nexport default class Level {\r\n\r\n    private _name: string;\r\n    \r\n    private _backgroundColor: string;\r\n    \r\n    private _map: Map;\r\n     \r\n    private _enemies: Npc[];\r\n    private _items: Item[];\r\n   \r\n\r\n    constructor(name: string, backgroundColor: string, map: Map, enemies: Npc[], ects: Item[]) {\r\n\r\n        this._name = name;\r\n        this._backgroundColor = backgroundColor;\r\n        this._map = map;\r\n        this._enemies = enemies;\r\n        this._items = ects;\r\n\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    public get backgroundColor(): string {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    public get map(): Map {\r\n        return this._map;\r\n    }\r\n\r\n    public get enemies(): Npc[] {\r\n        return this._enemies;\r\n    }\r\n\r\n    public get items(): Item[] {\r\n        return this._items;\r\n    }\r\n}","import SpritePosition from \"../SpritePosition\";\r\nimport ICollisionObject from \"../Collision/ICollisionObject\";\r\n\r\nexport default class Entity implements ICollisionObject{\r\n\r\n    private _xPos: number;\r\n    private _yPos: number;\r\n    private _collision: boolean;\r\n    \r\n    \r\n    private _spriteMap: HTMLImageElement;\r\n    private _spritePos: SpritePosition;\r\n    private _sourceSize: number;\r\n    private _targetSize: number;\r\n\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number, collision: boolean) {\r\n        this._xPos = xPos;\r\n        this._yPos = yPos;\r\n        this._collision = collision;\r\n\r\n        this._spriteMap = spriteMap;\r\n        this._spritePos = spritePos;\r\n        this._sourceSize = sourceSize;\r\n        this._targetSize = targetSize;\r\n    }\r\n\r\n    public get xPos(): number {\r\n        return this._xPos;\r\n    }\r\n    public set xPos(value: number) {\r\n        this._xPos = value;\r\n    }\r\n\r\n    public get yPos(): number {\r\n        return this._yPos;\r\n    }\r\n    public set yPos(value: number) {\r\n        this._yPos = value;\r\n    }\r\n\r\n    public get spriteMap(): HTMLImageElement {\r\n        return this._spriteMap;\r\n    }\r\n    public set spriteMap(value: HTMLImageElement) {\r\n        this._spriteMap = value;\r\n    }\r\n\r\n    public get spritePos(): SpritePosition {\r\n        return this._spritePos;\r\n    }\r\n    public set spritePos(value: SpritePosition) {\r\n        this._spritePos = value;\r\n    }\r\n    \r\n    public get sourceSize(): number {\r\n        return this._sourceSize;\r\n    }\r\n    public set sourceSize(value: number) {\r\n        this._sourceSize = value;\r\n    }\r\n\r\n    public get targetSize(): number {\r\n        return this._targetSize;\r\n    }\r\n    public set targetSize(value: number) {\r\n        this._targetSize = value;\r\n    }\r\n    public get collision(): boolean {\r\n        return this._collision;\r\n    }\r\n}","import Entity from \"../Entity\";\r\nimport SpritePosition from \"../../SpritePosition\";\r\n\r\nexport default class Item extends Entity{\r\n    \r\n    // eslint-disable-next-line\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number, collision: boolean) {\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, collision);\r\n    }\r\n\r\n}","/**\r\n * \r\n * helper class for transforming relative positions of sprites in a sprite image\r\n * into x and y pixel values depending on the used sprite size\r\n * \r\n */\r\nexport default class SpritePosition {\r\n\r\n    private _tileX: number;\r\n    \r\n    private _tileY: number;\r\n    \r\n    constructor(tileX: number, tileY: number) {\r\n\r\n        this._tileX = tileX;\r\n        this._tileY = tileY;\r\n    }\r\n\r\n    public get tileX(): number {\r\n        return this._tileX;\r\n    }\r\n\r\n    public set tileX(value: number) {\r\n        this._tileX = value;\r\n    }\r\n\r\n    public get tileY(): number {\r\n        return this._tileY;\r\n    }\r\n\r\n    public set tileY(value: number) {\r\n        this._tileY = value;\r\n    }\r\n\r\n\r\n    public getXPosForSpriteWidth(spriteSizeWidth:number): number {\r\n        return spriteSizeWidth*this._tileX;\r\n    }\r\n\r\n    public getYPosForSpriteHeight(spriteSizeHeight:number): number {\r\n        return spriteSizeHeight*this._tileY;\r\n    }\r\n}","import Item from './Item';\r\nimport SpritePosition from '../../SpritePosition';\r\nimport ectsSpriteImage from '../../images/ectsSprite.jpg';\r\n\r\nclass Ects extends Item{\r\n\r\n    constructor(xPos:number, yPos:number) {\r\n        let spriteMap = new Image();\r\n        spriteMap.src = ectsSpriteImage;\r\n        let spritePos = new SpritePosition(0,0);\r\n        let sourceSize = 16;\r\n        let targetSize = 32;\r\n        let collision = true;\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, collision);\r\n    }\r\n\r\n}\r\n\r\nexport default Ects;","import Entity from \"../Entity\";\r\nimport SpritePosition from \"../../SpritePosition\";\r\n\r\nexport default class Character extends Entity{\r\n\r\n    private _xSpeed: number;\r\n    private _ySpeed: number;\r\n\r\n\r\n    private _xVelocity: number;\r\n    private _xVelocityJump: number;\r\n    private _yVelocity: number;\r\n    private _friction: number;\r\n    \r\n    private _lives: number;\r\n    \r\n\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number, xVelocity:number, xVelocityJump: number, yVelocity:number, friction:number, lives:number, collision: boolean) {\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, collision);\r\n        this._xSpeed = 0;\r\n        this._ySpeed = 0;\r\n\r\n        this._xVelocity = xVelocity;\r\n        this._xVelocityJump = xVelocityJump;\r\n        this._yVelocity = yVelocity;\r\n        this._friction = friction;\r\n        this._lives = lives;\r\n    }\r\n\r\n    public fellOutOfMap(){\r\n        this.takeDamage();\r\n    }\r\n\r\n    public addLife(){\r\n        this._lives += 1;\r\n    }\r\n\r\n    public takeDamage(){\r\n        this._lives -= 1;\r\n    }\r\n\r\n    public kill(){\r\n        this._lives = 0;\r\n    }\r\n\r\n    public isDead(): boolean {\r\n        return this._lives <= 0;\r\n    }\r\n\r\n    public get xSpeed(): number {\r\n        return this._xSpeed;\r\n    }\r\n    public set xSpeed(value: number) {\r\n        this._xSpeed = value;\r\n    }\r\n\r\n    public get ySpeed(): number {\r\n        return this._ySpeed;\r\n    }\r\n    public set ySpeed(value: number) {\r\n        this._ySpeed = value;\r\n    }\r\n\r\n    protected get xVelocity(): number {\r\n        return this._xVelocity;\r\n    }\r\n\r\n    protected get xVelocityJump(): number {\r\n        return this._xVelocityJump;\r\n    }\r\n\r\n    protected get yVelocity(): number {\r\n        return this._yVelocity;\r\n    }\r\n\r\n    protected get friction(): number {\r\n        return this._friction;\r\n    }\r\n    protected set friction(value: number) {\r\n        this._friction = value;\r\n    }\r\n    public get lives(): number {\r\n        return this._lives;\r\n    }\r\n    public set lives(value: number) {\r\n        this._lives = value;\r\n    }\r\n\r\n}","import Character from './Character';\r\nimport SpritePosition from '../../SpritePosition';\r\nimport ICollisionObject from '../../Collision/ICollisionObject';\r\n\r\nexport default class Npc extends Character implements ICollisionObject{\r\n\r\n    // eslint-disable-next-line\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number, xVelocity:number, xVelocityJump: number, yVelocity:number, friction:number, lives:number, collision: boolean) {\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, xVelocity, xVelocityJump, yVelocity, friction, lives, collision);\r\n    }\r\n\r\n    public fellOutOfMap(){\r\n        this.kill();\r\n    }\r\n\r\n}","import Npc from './Npc';\r\nimport profSpriteImage from '../../images/profSprite.jpg';\r\nimport SpritePosition from '../../SpritePosition';\r\n\r\nexport default class Prof extends Npc {\r\n    \r\n    constructor(xPos:number, yPos:number) {\r\n\r\n        let spriteMap = new Image();\r\n        spriteMap.src = profSpriteImage;\r\n        let spritePos = new SpritePosition(0,0);\r\n        let sourceSize = 32;\r\n        let targetSize = 32;\r\n        let xVelocity = 1.5;\r\n        let xVelocityJump = 1;\r\n        let yVelocity = 25;\r\n        let friction = 0.8; //TODO probably move friction to TileTypes\r\n        let lives = 1;\r\n        let collision = true;\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, xVelocity, xVelocityJump, yVelocity, friction, lives, collision);\r\n    }\r\n\r\n    //TODO some kind of \"Artificial Intelligence\" for moving around\r\n\r\n}","import { MapTileType } from './MapTileType';\r\nimport SpritePosition from '../SpritePosition';\r\nimport ICollisionObject from '../Collision/ICollisionObject';\r\n\r\nexport default class MapTile implements ICollisionObject{\r\n\r\n    private _xPosCanvas: number;\r\n    private _yPosCanvas: number;\r\n\r\n    private _spritePos: SpritePosition;\r\n    \r\n    private _collision: boolean;\r\n    \r\n    private _solid: boolean;\r\n    \r\n    private _hurtful: boolean;\r\n    \r\n    private _type: MapTileType;\r\n\r\n    private static _sourceSize: number = 16;\r\n    private static _targetSize: number = 32;\r\n\r\n    private _targetSize: number;\r\n    \r\n\r\n    constructor(spritePos: SpritePosition, collision: boolean, solid: boolean, hurtful: boolean, type: MapTileType) {\r\n\r\n        this._xPosCanvas = 0;\r\n        this._yPosCanvas = 0;\r\n        this._spritePos = spritePos;\r\n        this._collision = collision;\r\n        this._solid = solid;\r\n        this._hurtful = hurtful;\r\n        this._type = type;\r\n        this._targetSize = MapTile.targetSize;\r\n\r\n    }\r\n\r\n    cloneTile(): MapTile{\r\n        let newMapTile = new MapTile(new SpritePosition(this.spritePos.tileX, this.spritePos.tileY), this.collision, this.solid, this.hurtful, this.type);\r\n        newMapTile.xPos = this._xPosCanvas;\r\n        newMapTile.yPos = this._yPosCanvas;\r\n        return newMapTile;\r\n    };\r\n\r\n    public get xPos(): number {\r\n        return this._xPosCanvas;\r\n    }\r\n    public set xPos(value: number) {\r\n        this._xPosCanvas = value;\r\n    }\r\n\r\n    public get yPos(): number {\r\n        return this._yPosCanvas;\r\n    }\r\n    public set yPos(value: number) {\r\n        this._yPosCanvas = value;\r\n    }\r\n\r\n    public get spritePos(): SpritePosition {\r\n        return this._spritePos;\r\n    }\r\n    public set spritePos(value: SpritePosition) {\r\n        this._spritePos = value;\r\n    }\r\n\r\n    public get collision(): boolean {\r\n        return this._collision;\r\n    }\r\n    public set collision(value: boolean) {\r\n        this._collision = value;\r\n    }\r\n\r\n    public get solid(): boolean {\r\n        return this._solid;\r\n    }\r\n    public set solid(value: boolean) {\r\n        this._solid = value;\r\n    }\r\n\r\n    public get hurtful(): boolean {\r\n        return this._hurtful;\r\n    }\r\n    public set hurtful(value: boolean) {\r\n        this._hurtful = value;\r\n    }\r\n\r\n    public get type(): MapTileType {\r\n        return this._type;\r\n    }\r\n    public set type(value: MapTileType) {\r\n        this._type = value;\r\n    }\r\n\r\n    public static get sourceSize(): number {\r\n        return MapTile._sourceSize;\r\n    }\r\n\r\n    public static get targetSize(): number {\r\n        return MapTile._targetSize;\r\n    }\r\n\r\n    public get targetSize(): number {\r\n        return this._targetSize;\r\n    }\r\n\r\n}","import MapTile from \"./MapTile\";\r\nimport { MapTileType } from \"./MapTileType\";\r\nimport mapTileImage from \"../images/mapTileImage.jpg\";\r\nimport SpritePosition from \"../SpritePosition\";\r\nimport Config from \"../Config\";\r\n\r\nexport default class Map {\r\n\r\n    private _mapTiles: MapTile[][];\r\n    private _spriteMap: HTMLImageElement;\r\n    private _numberOfDisplayedTilesWidth: number;\r\n    private _numberOfDisplayTilesHeight: number;\r\n    private _mapWidth: number;\r\n    private _mapHeight: number;\r\n   \r\n\r\n    constructor(template: string[]) {\r\n\r\n        this._mapTiles = this.generateMapTiles(template);\r\n        this._spriteMap = new Image();\r\n        this._spriteMap.src = mapTileImage;\r\n\r\n        this._numberOfDisplayedTilesWidth = Config.canvasSize.w / MapTile.targetSize; \r\n        this._numberOfDisplayTilesHeight = Config.canvasSize.h / MapTile.targetSize;\r\n\r\n        this._mapWidth = MapTile.targetSize * this._mapTiles[0].length;\r\n        this._mapHeight = MapTile.targetSize * this._mapTiles.length;\r\n    }\r\n\r\n    private generateMapTiles(template: string[]){\r\n        let mapTiles: MapTile[][] = [];\r\n        template.forEach(layer => {\r\n            let currentLayerTiles: MapTile[] = [];\r\n            for(let i=0; i < layer.length; i++){\r\n                currentLayerTiles.push(Map.tiles[layer[i]].cloneTile());\r\n            }\r\n            mapTiles.push(currentLayerTiles);\r\n        });\r\n        return mapTiles;\r\n    }\r\n\r\n    public getGroundLevel(): number{\r\n        return this.mapHeight - MapTile.targetSize*2; //second last tile on y axis\r\n    }\r\n\r\n    private static tiles: { [id: string]: MapTile } = {\r\n        ' ' : new MapTile(new SpritePosition(0,0),false,false,false, MapTileType.DEFAULT),\r\n        '#' : new MapTile(new SpritePosition(1,0),true,true,false, MapTileType.DEFAULT),\r\n    }\r\n\r\n    public get mapTiles(): MapTile[][] {\r\n        return this._mapTiles;\r\n    }\r\n    public set mapTiles(value: MapTile[][]) {\r\n        this._mapTiles = value;\r\n    }\r\n\r\n    public get spriteMap(): HTMLImageElement {\r\n        return this._spriteMap;\r\n    }\r\n    public set spriteMap(value: HTMLImageElement) {\r\n        this._spriteMap = value;\r\n    }\r\n\r\n    public get numberOfDisplayedTilesWidth(): number {\r\n        return this._numberOfDisplayedTilesWidth;\r\n    }\r\n\r\n    public get mapWidth(): number {\r\n        return this._mapWidth;\r\n    }\r\n    public get mapHeight(): number {\r\n        return this._mapHeight;\r\n    }\r\n\r\n}","import Level from './Level';\r\nimport Ects from '../Entities/items/Ects';\r\nimport Prof from '../Entities/characters/Prof';\r\nimport Map from '../Map/Map';\r\nimport MapTile from '../Map/MapTile';\r\n\r\nclass Levels {\r\n\r\n    static levels: Level[] = [\r\n\r\n        new Level(\"1\", \"grey\", new Map([\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                  #######         \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"##################################\",\r\n        ]),\r\n        [\r\n            new Prof( Levels.getCoordinateForRelativeMapPos(20), Levels.getCoordinateForRelativeMapPos(4) )\r\n        ],\r\n        [\r\n            new Ects( Levels.getCoordinateForRelativeMapPos(10), Levels.getCoordinateForRelativeMapPos(1) )\r\n        ],\r\n        ),\r\n\r\n        new Level(\"2\", \"grey\", new Map([\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n        ]),\r\n        [new Prof(0, 0)],\r\n        [new Ects(0, 0)],\r\n        )\r\n\r\n    ];\r\n\r\n    private static getCoordinateForRelativeMapPos(relativeMapPos: number): number{\r\n        return MapTile.targetSize * relativeMapPos;\r\n    }\r\n\r\n}\r\n\r\nexport default Levels;","import Character from './Character';\r\nimport playerSpriteImage from '../../images/playerSprite.jpg';\r\nimport SpritePosition from '../../SpritePosition';\r\n\r\nexport default class Player extends Character {\r\n\r\n    private _speedLimitX: number;\r\n    private _speedLimitY: number;\r\n    private _tookDamage: boolean;\r\n    \r\n    constructor(xPos:number, yPos:number) {\r\n        let spriteMap = new Image();\r\n        spriteMap.src = playerSpriteImage;\r\n        let spritePos = new SpritePosition(0,0);\r\n        let sourceSize = 32;\r\n        let targetSize = 42;\r\n        let xVelocity = 1.5;\r\n        let xVelocityJump = 1;\r\n        let yVelocity = 25;\r\n        let friction = 0.8; //TODO probably move friction to TileTypes\r\n        let lives = 3;\r\n        let collision = true;\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, xVelocity, xVelocityJump, yVelocity, friction, lives, collision);\r\n        this._speedLimitX = 12;\r\n        this._speedLimitY = 25;\r\n        this._tookDamage = false;\r\n    }\r\n\r\n\r\n    public accelerateRight(){\r\n        \r\n        if(this.xSpeed < this._speedLimitX){\r\n            if(this.ySpeed === 0){\r\n                this.xSpeed += this.xVelocity;\r\n            } else {\r\n                this.xSpeed += this.xVelocityJump;\r\n            }\r\n        }\r\n    }\r\n\r\n    public accelerateLeft(){\r\n\r\n        if(this.xSpeed > -this._speedLimitX){\r\n            if(this.ySpeed === 0){\r\n                this.xSpeed -= this.xVelocity;\r\n            } else {\r\n                this.xSpeed -= this.xVelocityJump;\r\n            }\r\n        }\r\n    }\r\n\r\n    public jump(){\r\n\r\n        if(this.ySpeed === 0){\r\n            this.ySpeed -= this.yVelocity; // - because y 0 is on top of canvas so -y means upwards\r\n        }\r\n\r\n    }\r\n\r\n    public smallJump(){\r\n        if(this.ySpeed === 0){\r\n            this.ySpeed -= this.yVelocity/2; // - because y 0 is on top of canvas so -y means upwards\r\n        }\r\n    }\r\n\r\n    public animate(){\r\n        //TODO\r\n    }\r\n\r\n    public applyGravity(gravity:number){\r\n\r\n        this.ySpeed = (this.ySpeed+gravity > this.speedLimitY) ? this.speedLimitY : this.ySpeed+gravity;\r\n\r\n    }\r\n\r\n    public updatePos(){\r\n        this.xPos += this.xSpeed;\r\n        this.yPos += this.ySpeed;\r\n    }\r\n\r\n    public resetPlayer() {\r\n        this.lives = 3;\r\n        this._tookDamage = false;\r\n    }\r\n\r\n    public fellOutOfMap(){\r\n        this.takeDamage();\r\n    }\r\n\r\n    public takeDamage(){\r\n        super.takeDamage()\r\n        this._tookDamage = true;\r\n    }\r\n\r\n    public get speedLimitY(): number {\r\n        return this._speedLimitY;\r\n    }\r\n    public set speedLimitY(value: number) {\r\n        this._speedLimitY = value;\r\n    }\r\n    public get tookDamage(): boolean {\r\n        return this._tookDamage;\r\n    }\r\n    public set tookDamage(value: boolean) {\r\n        this._tookDamage = value;\r\n    }\r\n\r\n}","export default class Collision{\r\n\r\n    private _top: boolean;\r\n    private _bot: boolean;\r\n    private _right: boolean;\r\n    private _left: boolean;\r\n    \r\n    constructor()\r\n    constructor(top?:boolean,bot?:boolean,left?:boolean,right?:boolean){\r\n        this._top = top || false;\r\n        this._bot = bot || false;\r\n        this._right = right || false;\r\n        this._left = left || false;\r\n    }\r\n\r\n    public doesCollide(): boolean{\r\n        return this._top || this._bot || this._right || this._left;\r\n    }\r\n\r\n    public get top(): boolean {\r\n        return this._top;\r\n    }\r\n    public set top(value: boolean) {\r\n        this._top = value;\r\n    }\r\n\r\n    public get bot(): boolean {\r\n        return this._bot;\r\n    }\r\n    public set bot(value: boolean) {\r\n        this._bot = value;\r\n    }\r\n\r\n    public get right(): boolean {\r\n        return this._right;\r\n    }\r\n    public set right(value: boolean) {\r\n        this._right = value;\r\n    }\r\n\r\n    public get left(): boolean {\r\n        return this._left;\r\n    }\r\n    public set left(value: boolean) {\r\n        this._left = value;\r\n    }\r\n    \r\n\r\n}","import ICollisionObject from \"./ICollisionObject\";\r\nimport Collision from \"./Collision\";\r\nimport Player from \"../Entities/characters/Player\";\r\nimport Npc from \"../Entities/characters/Npc\";\r\nimport MapTile from \"../Map/MapTile\";\r\n\r\nexport default class CollisionMap{\r\n\r\n    private _collisionObjects: ICollisionObject[];\r\n    \r\n    constructor()\r\n    constructor(collisionObjects?: ICollisionObject[]){\r\n        this._collisionObjects = collisionObjects || [];\r\n    }\r\n\r\n    public get collisionObjects(): ICollisionObject[] {\r\n        return this._collisionObjects;\r\n    }\r\n    public set collisionObjects(value: ICollisionObject[]) {\r\n        this._collisionObjects = value;\r\n    }\r\n\r\n    public static checkCollision(obj1: ICollisionObject, obj2: ICollisionObject) : Collision {\r\n\r\n        let collision = new Collision();\r\n\r\n        let obj1MiddleX = obj1.xPos + obj1.targetSize/2;\r\n        let obj1MiddleY = obj1.yPos + obj1.targetSize/2;\r\n        let obj1RightX = obj1.xPos + obj1.targetSize;\r\n        let obj1BotY = obj1.yPos + obj1.targetSize;\r\n        let obj2RightX = obj2.xPos + obj2.targetSize;\r\n        let obj2BotY = obj2.yPos + obj2.targetSize;\r\n\r\n        // TODO make better\r\n        //below or above object\r\n        //if(this.inRange(obj1.xPos, obj2.xPos, obj2RightX) || this.inRange(obj1RightX, obj2.xPos, obj2RightX)){\r\n        if(this.inRange(obj1MiddleX, obj2.xPos - 0.25 * obj2.targetSize, obj2.xPos + 1.25 * obj2.targetSize)){\r\n            \r\n            if(this.inRange(obj1BotY, obj2.yPos, obj2BotY) && obj1.yPos < obj2.yPos){\r\n                collision.bot = true;\r\n            }\r\n            else if(this.inRange(obj1.yPos, obj2.yPos, obj2BotY)){\r\n                collision.top = true;\r\n            }\r\n        }\r\n        \r\n        // TODO make better\r\n        //right or left of object\r\n        //if(this.inRange(obj1.yPos, obj2.yPos, obj2BotY) || this.inRange(obj1BotY, obj2.yPos, obj2BotY)){\r\n        if(this.inRange(obj1MiddleY, obj2.yPos - 0.25 * obj2.targetSize, obj2.yPos + 1.25 * obj2.targetSize)){\r\n\r\n            if (this.inRange(obj1RightX, obj2.xPos, obj2RightX)) {\r\n                collision.right = true;\r\n            }\r\n            if (this.inRange(obj1.xPos, obj2.xPos, obj2RightX)) {\r\n                collision.left = true;\r\n            }\r\n        }\r\n\r\n        return collision;\r\n\r\n    }\r\n\r\n    public static processPlayerNpcCollision(player: Player, npc: Npc, collides: Collision){\r\n\r\n        console.log(collides);\r\n        if (collides.bot) {\r\n            player.yPos = npc.yPos - player.targetSize;\r\n            player.ySpeed = 0;\r\n            npc.takeDamage();\r\n            player.smallJump();\r\n        }\r\n        else if (collides.top || collides.right || collides.left) {\r\n            player.takeDamage();\r\n        }\r\n\r\n    }\r\n\r\n    public static processPlayerMapTileCollision(player: Player, mapTile: MapTile, collides: Collision){\r\n        \r\n        if (mapTile.solid) {\r\n            if (collides.top) {\r\n                player.yPos = mapTile.yPos + mapTile.targetSize;\r\n                player.ySpeed = 1;\r\n            }\r\n            else if (collides.bot) {\r\n                //TODO apply friction of that mapTile type\r\n                player.yPos = mapTile.yPos - player.targetSize;\r\n                player.ySpeed = 0;\r\n            } else if (collides.right) {\r\n                player.xPos = mapTile.xPos - player.targetSize;\r\n                player.xSpeed = 0;\r\n            } else if (collides.left) {\r\n                player.xPos = mapTile.xPos + mapTile.targetSize;\r\n                player.xSpeed = 0;\r\n            }\r\n        }\r\n\r\n        /*\r\n        TODO check all maptiletypes\r\n        if (object.deadly == true) {\r\n                    //items.push({ sx:, sy:9, x:actor.pos.x, y:actor.pos.y, deadly:false, type:'looser' });\r\n                    gameOver()\r\n                }\r\n                if (object.type == 'exit') {\r\n                    levelWin()\r\n                }\r\n                if (object.type == 'trampoline') {\r\n                    actor.speed.y < 0 ? actor.speed.y = 0 : true\r\n                    sound_jump()\r\n                    actor.speed.y = -0.5 * actor.speed.y - 25\r\n                }\r\n        */\r\n\r\n    }\r\n\r\n    public static processPlayerItemCollision(player: Player, npc: Item, collides: Collision){\r\n        /*\r\n        if (object.type == 'coin') {\r\n                items.splice(items.indexOf(object), 1)\r\n                score++\r\n                sound_coin()\r\n        }\r\n        */\r\n    }\r\n\r\n    \r\n\r\n    private static inRange(x:number, min:number, max:number): boolean{\r\n        return x >= min && x <= max;\r\n    }\r\n\r\n}","import React from 'react';\r\nimport './Gamecanvas.css';\r\nimport gamesketchimg from './images/gamesketchimg.jpg';\r\nimport Controls from './Controls';\r\nimport Config from './Config';\r\nimport Levels from './Levels/Levels';\r\nimport Level from './Levels/Level';\r\nimport MapTile from './Map/MapTile';\r\nimport Player from './Entities/characters/Player';\r\nimport Character from './Entities/characters/Character';\r\nimport Item from './Entities/items/Item';\r\nimport CollisionMap from './Collision/CollisionMap';\r\nimport Npc from './Entities/characters/Npc';\r\n\r\nclass Canvas extends React.Component {\r\n\r\n    private gameCanvasRef: any;\r\n    private gameSketchImgRef: any;\r\n\r\n    private ctx: any;\r\n\r\n    private collisionMap: CollisionMap = new CollisionMap();\r\n    private ticks: number = 0;\r\n\r\n    // position displayed level\r\n    private levelPosX: number = 0;\r\n    // scroll position at the beginning of the game loop\r\n    private levelPosXStart = 0;\r\n\r\n    private currentLevel: Level = Levels.levels[0];\r\n    private player: Player = new Player(0, 0);\r\n\r\n    private characters: Character[] = [];\r\n    private items: Item[] = [];\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.gameCanvasRef = React.createRef();\r\n        this.gameSketchImgRef = React.createRef();\r\n\r\n        this.gameLoop = this.gameLoop.bind(this);\r\n\r\n        this.startGame();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.gameCanvasRef.current;\r\n        this.ctx = canvas.getContext(\"2d\");\r\n        const img = this.gameSketchImgRef.current;\r\n\r\n        if(this.ctx != null && img != null && img.currentSrc != null){\r\n            img.onload = () => {\r\n                this.ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <canvas ref={this.gameCanvasRef} width={Config.canvasSize.w} height={Config.canvasSize.h} />\r\n                <img ref={this.gameSketchImgRef} src={gamesketchimg} className=\"hidden\" alt=\"gameSketchImg\"/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    startGame() {\r\n        //hideMenus();\r\n        Controls.registerKeyEvents()\r\n        this.initializeLevel();\r\n        window.clearInterval(Config.gameInterval);\r\n        Config.gameInterval = setInterval(this.gameLoop, 1000 / Config.fps);\r\n    }\r\n\r\n    gameLoop() {\r\n        this.ticks++;\r\n        this.collisionMap.collisionObjects = [];\r\n        this.drawLevel();\r\n        this.collisionMap.collisionObjects = this.collisionMap.collisionObjects.concat(this.currentLevel.enemies);\r\n\r\n        this.updatePlayer();\r\n        //updateElements();\r\n\r\n        //TODO remove afer demo\r\n        this.animateECTS();\r\n\r\n        this.drawItems();\r\n        this.drawCharacters();\r\n        //this.drawUI();\r\n        //drawControls();\r\n\r\n        if (this.player.tookDamage) { this.respawnPlayer() }\r\n        //if (this.player.isDead()){ gameOver() };\r\n    }\r\n\r\n    //TODO remove afer demo\r\n    animateECTS(){\r\n        this.currentLevel.items.forEach( item => {\r\n\r\n            if(this.ticks % 10 === 0){\r\n                \r\n                switch (item.spritePos.tileX){ \r\n                    case 0:\r\n                        item.spritePos.tileX = 1;\r\n                        break;\r\n                    case 1:\r\n                        item.spritePos.tileX = 2;\r\n                        break;\r\n                    case 2:\r\n                        item.spritePos.tileX = 0;\r\n                        break;\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    initializeLevel(){\r\n        this.collisionMap.collisionObjects = [];\r\n        this.player.resetPlayer();\r\n        this.respawnPlayer()\r\n        this.levelPosX = 0;\r\n        this.characters = this.currentLevel.enemies.slice();\r\n        this.characters.push(this.player);\r\n        this.items = this.currentLevel.items;\r\n    }\r\n\r\n    public respawnPlayer(){\r\n        this.player.xPos = 0;\r\n        this.player.yPos = this.currentLevel.map.getGroundLevel()-10;\r\n        this.player.xSpeed = 0;\r\n        this.player.ySpeed = 0;\r\n        this.player.tookDamage = false;\r\n        this.levelPosX = 0;\r\n    }\r\n\r\n\r\n    drawLevel() {\r\n\r\n        this.ctx.clearRect(0, 0, Config.canvasSize.w, Config.canvasSize.h);\r\n        if (this.levelPosX < 0) {\r\n            this.levelPosX = 0;\r\n        }\r\n        this.levelPosXStart = this.levelPosX;\r\n        // first tile to display:\r\n        let indexFirstTile = Math.trunc(this.levelPosX / MapTile.targetSize);\r\n        let offset_x = this.levelPosX % MapTile.targetSize;\r\n\r\n        // last tile to show\r\n        let indexLastTile = indexFirstTile + this.currentLevel.map.numberOfDisplayedTilesWidth;\r\n    \r\n        let currentLevelMapTiles = this.currentLevel.map.mapTiles;\r\n\r\n        currentLevelMapTiles.forEach((mapTileLayer, index) => {\r\n            this.drawLayer(mapTileLayer, index, indexFirstTile, indexLastTile, offset_x);\r\n        });\r\n        \r\n    }\r\n\r\n    drawLayer(mapTileLayer: MapTile[], currentLayerIndex: number, indexFirstTile: number, indexLastTile: number, offset_x: number) {\r\n        for (let indexCurrentTile = indexFirstTile; indexCurrentTile < indexLastTile; indexCurrentTile++) {\r\n\r\n            let mapTile = mapTileLayer[indexCurrentTile];\r\n            \r\n            if(mapTile){ //if map template smaller than canvas width map tiles not defined -> TODO refactor\r\n                mapTile.xPos = indexCurrentTile * MapTile.targetSize - offset_x;\r\n                mapTile.yPos = currentLayerIndex * MapTile.targetSize;\r\n                this.ctx.drawImage(this.currentLevel.map.spriteMap,\r\n                    mapTile.spritePos.getXPosForSpriteWidth(MapTile.sourceSize + 1),\r\n                    mapTile.spritePos.getYPosForSpriteHeight(MapTile.sourceSize + 1),\r\n                    MapTile.sourceSize - 0.8,\r\n                    MapTile.sourceSize - 0.8,\r\n                    mapTile.xPos - (indexFirstTile * MapTile.targetSize),\r\n                    mapTile.yPos,\r\n                    MapTile.targetSize,\r\n                    MapTile.targetSize\r\n                );\r\n\r\n                if (mapTile.collision) {\r\n                    this.collisionMap.collisionObjects.push(mapTile.cloneTile());\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    drawCharacters(){\r\n        this.characters.forEach((character) => {\r\n            this.ctx.drawImage(\r\n                character.spriteMap,\r\n                character.spritePos.getXPosForSpriteWidth(character.sourceSize),\r\n                character.spritePos.getYPosForSpriteHeight(character.sourceSize),\r\n                character.sourceSize,\r\n                character.sourceSize,\r\n                character.xPos - this.levelPosX,\r\n                character.yPos,\r\n                character.targetSize,\r\n                character.targetSize\r\n            );\r\n        });\r\n    }\r\n\r\n    drawItems(){\r\n        this.currentLevel.items.forEach((item) => {\r\n            this.ctx.drawImage(\r\n                item.spriteMap,\r\n                item.spritePos.getXPosForSpriteWidth(item.sourceSize),\r\n                item.spritePos.getYPosForSpriteHeight(item.sourceSize),\r\n                item.sourceSize,\r\n                item.sourceSize,\r\n                item.xPos - this.levelPosX,\r\n                item.yPos,\r\n                item.targetSize,\r\n                item.targetSize\r\n            );\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    updatePlayer(){\r\n\r\n        if(Controls.heldRight){\r\n            this.player.accelerateRight();\r\n        }\r\n        if (Controls.heldLeft){\r\n            this.player.accelerateLeft();\r\n        }\r\n\r\n        if (Controls.heldUp){\r\n            this.player.jump();\r\n            //TODO figure out what this is for\r\n            //Controls.heldUp = false; not sure what this is for\r\n        }\r\n\r\n        this.player.animate();\r\n\r\n        this.player.applyGravity(Config.gravity);\r\n\r\n        //TODO figure out what this is for\r\n        //if (Math.abs(this.player.xSpeed) < 0.8) this.player.xSpeed = 0; //unsure what this does\r\n        //if (Math.abs(this.player.ySpeed) < 0.1) this.player.ySpeed = 0; //unsure what this does\r\n\r\n        this.player.updatePos();\r\n\r\n\r\n        this.checkLevelEdgeCollision(this.player);\r\n\r\n        this.checkPlayerCollisions();\r\n\r\n    }\r\n\r\n    checkLevelEdgeCollision(player: Player){\r\n        if (player.xPos < 0) {\r\n            player.xPos = 0;\r\n            player.xSpeed = 0;\r\n        }\r\n        else if (player.xPos + player.targetSize > Config.canvasSize.w) {\r\n            player.xPos = Config.canvasSize.w - player.targetSize;\r\n            player.xSpeed = 0;\r\n        }\r\n        // die on level bottom\r\n        if (player.yPos > this.currentLevel.map.mapHeight - MapTile.targetSize) {\r\n            player.fellOutOfMap();\r\n        }\r\n    }\r\n\r\n    checkPlayerCollisions(){\r\n        //TODO collisionmap should only contain visible objects\r\n        this.collisionMap.collisionObjects.forEach(collisionObject => {\r\n            \r\n            let collides = CollisionMap.checkCollision(this.player, collisionObject);\r\n\r\n            if(collides.doesCollide()){\r\n\r\n                if (collisionObject instanceof Npc){\r\n                    CollisionMap.processPlayerNpcCollision(this.player, collisionObject as Npc, collides);\r\n                }\r\n                else if (collisionObject instanceof MapTile){\r\n                    CollisionMap.processPlayerMapTileCollision(this.player, collisionObject as MapTile, collides);\r\n                }\r\n                else if (collisionObject instanceof Item){\r\n                    CollisionMap.processPlayerItemCollision(this.player, collisionObject as Item, collides);\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        /*\r\n\r\n        // move the player when the level is at it's border, else move the level\r\n        if (scroll_x <= 0) {\r\n            if (actor.pos.x > (size.canvas.w / 2)) {\r\n                scroll_x = 1;\r\n            }\r\n        } else if (scroll_x >= current_level.width - size.canvas.w && current_level.width > size.canvas.w) {\r\n            scroll_x = current_level.width - size.canvas.w;\r\n            if (actor.pos.x < current_level.width - (size.canvas.w / 2)) {\r\n                scroll_x = current_level.width - size.canvas.w - 1;\r\n            }\r\n        } else if (current_level.width > size.canvas.w) {\r\n            scroll_x += actor.speed.x;\r\n        }\r\n\r\n        // apply friction\r\n        actor.speed.x *= speed.player.friction;\r\n\r\n        */\r\n    }\r\n\r\n    checkEnemyCollisions(){\r\n        //TODO implement\r\n    }\r\n}\r\n\r\nexport default Canvas;","import React from 'react';\r\nimport './App.css';\r\nimport GameCanvas from './game/Gamecanvas';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1>Life of PiBS</h1>\r\n        <GameCanvas/>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}