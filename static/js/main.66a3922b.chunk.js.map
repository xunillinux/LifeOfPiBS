{"version":3,"sources":["game/images/gamesketchimg.jpg","game/images/ectsSprite.jpg","game/images/profSprite.jpg","game/images/mapTileImage.jpg","game/images/playerSprite.jpg","game/Controls.tsx","game/Config.tsx","game/Map/MapTileType.tsx","game/Levels/Level.tsx","game/Entities/Entity.tsx","game/Entities/items/Item.tsx","game/SpritePosition.tsx","game/Entities/items/Ects.tsx","game/Entities/characters/Character.tsx","game/Entities/characters/Npc.tsx","game/Entities/characters/Prof.tsx","game/Map/MapTile.tsx","game/Map/Map.tsx","game/Levels/Levels.tsx","game/Entities/characters/Player.tsx","game/Gamecanvas.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","Controls","window","onkeydown","e","keyCode","preventDefault","heldLeft","heldUp","heldRight","heldDown","Escape","onkeyup","Config","canvasSize","w","h","gravity","fps","gameInterval","MapTileType","Level","name","backgroundColor","map","enemies","ects","_name","_backgroundColor","_map","_enemies","_items","this","Entity","xPos","yPos","spriteMap","spritePos","sourceSize","targetSize","_xPos","_yPos","_spriteMap","_spritePos","_sourceSize","_targetSize","value","Item","SpritePosition","tileX","tileY","_tileX","_tileY","spriteSizeWidth","spriteSizeHeight","Ects","Image","src","ectsSpriteImage","Character","xVelocity","xVelocityJump","yVelocity","friction","lives","_xSpeed","_ySpeed","_xVelocity","_xVelocityJump","_yVelocity","_friction","_lives","takeDamage","Npc","kill","Prof","profSpriteImage","MapTile","collision","solid","hurtful","type","_xPosCanvas","_yPosCanvas","_collision","_solid","_hurtful","_type","Map","template","_mapTiles","_numberOfDisplayedTilesWidth","_numberOfDisplayTilesHeight","_mapWidth","_mapHeight","generateMapTiles","mapTileImage","length","mapTiles","forEach","layer","currentLayerTiles","i","push","tiles","cloneTile","mapHeight","DEFAULT","HIDDEN","TRAMPOLINE","EXIT","Levels","relativeMapPos","levels","getCoordinateForRelativeMapPos","Player","playerSpriteImage","_speedLimitY","_tookDamage","ySpeed","xSpeed","speedLimitY","Canvas","props","gameCanvasRef","gameSketchImgRef","ctx","collisionMap","ticks","levelPosX","levelPosXStart","currentLevel","player","characters","items","React","createRef","gameLoop","bind","startGame","canvas","current","getContext","img","currentSrc","onload","drawImage","width","height","ref","gamesketchimg","className","alt","registerKeyEvents","initializeLevel","clearInterval","setInterval","drawLevel","updatePlayer","drawItems","drawCharacters","tookDamage","respawnPlayer","resetPlayer","getGroundLevel","clearRect","indexFirstTile","Math","trunc","offset_x","indexLastTile","numberOfDisplayedTilesWidth","mapTileLayer","index","drawLayer","currentLayerIndex","indexCurrentTile","mapTile","xPosCanvas","yPosCanvas","getXPosForSpriteWidth","getYPosForSpriteHeight","character","item","accelerateRight","accelerateLeft","jump","animate","applyGravity","updatePos","checkLevelEdgeCollision","checkCollisions","fellOutOfMap","Component","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.66a3922b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gamesketchimg.a7e81afa.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ectsSprite.a7e81afa.jpg\";","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAADPklEQVR4Xu2bMWgUQRSG98BO1GCaHIIEm7ioCNqJnY2FXmchCCqijY2NhUoqEQsbBW0E0SJgYRctbOzETkEU1zQiQrhYnETFTjiZ2bzh3bi7M2/vzYznvWtus7c7773//967uVzSyeQx1Qp0qNVfPLxv2HTPvZfvyGtScpD4vPqTzRIDeA2gwK+u5dbfGwBXYCjky/ovffj0/SfvtX1EkPjN4LXV39skMSCMAT7w+3R+MABs46HDd85sHskdzuOTHFNA4o+Cx62/cwKIAWENcE2A0Pp7A1DV4TAFFu9cNXWcP33NHHNOAIlf7q3wg0P/oABwbAahA9oAIPHdm3EnAMf37hr53L/87LaGsHfsUgYE3l26YcD8OihJnTt40rm2a/yp1yV+WP2dJokBYQ1wNUFo/ckAQMIwCewCPsz39Kk9WeZc21V81QSQ+KUCXPo7TbIJFAN4DXA1QWj9nQBAgnWjyC6Aew8g8UsFQukvALhacOP1UAZ4hk8PACS69vpx47eBXLv/OmEkPq/+3hNAACgV+N8AJANwZvGWngCDtVUtyOzcDv386Ppl8lq+4w9fJ/F59SebJgbwGkBtAm79WwPw8NyCzv3sg5UkE2Ca40PtHPpPLACqeAxB7LegVAAOPy+bTTg03zhvwRMNAIagM98j10Idv+p6GMEpAcDGQw1tG4AsWmoBID42r/vxhfnx5pPnnSsnjuouUcdtTG66J2b9uA44Vrn1dx/5K8WoAGDBIaG2CVANqgMAG4/X5IZAxY9RPzYc6oEakwFQRaHdfVRDqde7JkDVelwQxKq/ynxc1z8BQEihfUawfY3dlSGmgMuYEKDZdVaZH20TGEsA11Q4dWBBv8d3Z7bpSzfNbq+9hcsUFSBm/U2xfg++6Xr769/189KbldZ7HdKNMQVogsAXAE7zYwPQFG+qAYBv5dQfnF44tF9Pgvuv3pqdP94wuSYJ9fUUDWDHHKz2ddqqZqwFtRa4njQBcBAVvLt1i0mmbQLU++oAwB3D3flVOQJ8/R8/2f8Lyo6HPw5i6JMCkGXZMM9zk2tRFK1hIkJgfhOWKL5ON89zk0dRFOpUlPor4o7VzOMkLQBsSD/JAPwBALNNTp/ZM+IAAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAACB0lEQVRIS5WVv0uCQRjH703QhCQooaIGMwgi2qpVqKWgIcKpKfoDWgohaHBva2uqKQhao4YIrD+hIgoyByMCC0LBErT4nnyP5z3vNbvlvR/P3fdzz/M99dTF7Y/6o63lztRhatEXxbml8o6eT8VrvvVcKdxyKmPOn+pmzesEANESQvbni5sq2httAcAeQFCUQBgDYGEspL8GIDsyaaiyxTvTD70nVL2/oAFkY0YkgBSUsZivflY1KNrM4LS6erjWYw0gxeVGCcIs4CvLsRvJ+MB4u4+9hrpZ7dZrU0df+ssxANAA8S8Al1UIAOHZU88XAkFbHOO+ja7OPcDUy1tP1JLmgPVYWtcS4pXqt+qJRny3JQA3yBiA6AywzgjC4ffhvI4PqjsPQ+zywYqBkYdLQfQJhr6Ma/sKgpwv87y9v2WG8aFh3S+9vvhK4QIjiBc6rujfAThdtnZvH3HMGgEobgNAnBmQfWr5SsDasgQu09lzAAi6uZ1uZqKlBLjNeKzpTIpLX7hAsI6WOUm3AACokG/6yG7wgsyE8QAF595G1eXAs06xhJJjgtompJgNkEg2Xw2gAIB1+sQHQC8QxhbF+mO5ocGYKZSgnfuxBwAUtMulTcibUkCC2KVxeUDWVq7Lp2fvYxmczzDod4GHsP54OfIZ2qaTokFG/fPf0PUyJKCrBEHv3gX4C3fMWq16oO9EAAAAAElFTkSuQmCC\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAC9ElEQVR4Xu2bMUgcURCGd5FABAubQOw03RYpQkgR0tgIV6h4hRJDbFIl6S0ipBK0SJ9YXSOoaHFBxRzYpAmpgkWKLQJeuuQIQgpjAkFW3pyz3D5ub9579/YttzvX7N3e7v4z/3wz+/ZE3+NXqR3wdbOPNryo1zn+c0/7mjoxsL5d/7WLxQWwWwAd+MWxtv1XBoASxkSav4bg7Z3Xl8rXVjGB9XuDZ+q/cpG4ANkUQAV+lc7PDAC58NjhE7cuE7HjfjmhficB6yfBs+0/OQG4ANkWgJoAWfuvDEBah+MkaD3Yhlwujp4mcrI1AVi/vbaSX/36zwAQLYgdmBeAp6tDPR+7MwdADmBiqQ6WNTersI3XApV9+Nw6+5OYBP1OANZPAmDbf3ICDHoBsMFNQSx6/toAoKFIojxB/fFZ2HW6auf3gLQRSOl7XvsXSTzfFgBFy58BINYApgAOSgOQAKA/aaNQ9g/XALfvLypfm3oU6uxkqgNZv70GU/VfuUgMQPfF2KA3gDIAmOjPL9s9H0tUyVPp+m7HsL5d/xkATRKLBqA2ANP1OZgAd7f+gXVfn9yE7WH1vfa1VLx/NV9JTBzUc6Uvx1i0/LWL5tqAWq0WffuwG9ehbABknT8JgNyBWIm1Ny/h7cryW9iu7zXIa6l0vHyMbIBr/aLnTxaNC5CcQEUDUBsAHMEH956BFzMntVzWAK7000awK/20NZAtfRKArAOgbgus330RnDsAcuFcPwWwftIBU/+NJ4CrAqQ9hrnST5tArvSzzp8BIO5BpQcgzZ+ppc/RyMgYfF1/N06CRN3rdb4X2uL4vPSFdvXFd4jh/PyHd7z50Gn+ndoihn70jQNnAEoOwKOZnejG8Cg07sfdijFIOp0vjhW6Yvvp4LE/udCA9y71MV7U/v/3N8Sim4fp8Z05d3phej3jwBmANnylBUD8m1oQBDF4YRgaw6RJb/zHoZz0IdwgCOI4wjAUu5zk30UX7TPSNzrpWpEBuDZikAG4AoTccE5ZZQccAAAAAElFTkSuQmCC\"","\r\nclass Controls {\r\n\r\n    static heldLeft: boolean = false;\r\n    static heldRight: boolean = false;\r\n    static heldUp: boolean = false;\r\n    static heldDown: boolean = false;\r\n    static Escape: boolean = false;\r\n\r\n    static registerKeyEvents(){\r\n        window.onkeydown = function (e: any) {\r\n            switch (e.keyCode) {\r\n                case 37: // left\r\n                    e.preventDefault();\r\n                    Controls.heldLeft = true;\r\n                    break;\r\n                case 32: // space\r\n                    e.preventDefault();\r\n                    Controls.heldUp = true;\r\n                    break;\r\n                case 38: // up\r\n                    e.preventDefault();\r\n                    Controls.heldUp = true;\r\n                    break;\r\n                case 39: // right\r\n                    e.preventDefault();\r\n                    Controls.heldRight = true;\r\n                    break;\r\n                case 40: // down\r\n                    e.preventDefault();\r\n                    Controls.heldDown = true;\r\n                    break;\r\n                case 27: // escape\r\n                    e.preventDefault();\r\n                    Controls.Escape = true;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            return false;\r\n        };\r\n    \r\n        window.onkeyup = function (e: any) {\r\n            switch (e.keyCode) {\r\n                case 37: // left\r\n                    e.preventDefault();\r\n                    Controls.heldLeft = false;\r\n                    break;\r\n                case 32: // space\r\n                    e.preventDefault();\r\n                    Controls.heldUp = false;\r\n                    break;\r\n                case 38: // up\r\n                    e.preventDefault();\r\n                    Controls.heldUp = false;\r\n                    break;\r\n                case 39: // right\r\n                    e.preventDefault();\r\n                    Controls.heldRight = false;\r\n                    break;\r\n                case 40: // down\r\n                    e.preventDefault();\r\n                    Controls.heldDown = false;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Controls;","export default class Config {\r\n\r\n    static canvasSize: any = {w:755, h:425};\r\n    static gravity: number = 2;\r\n    static fps: number = 30;\r\n    static gameInterval: any;\r\n\r\n}","export enum MapTileType{\r\n    DEFAULT,\r\n    HIDDEN,\r\n    RESPAWN,\r\n    EXIT,\r\n    TRAMPOLINE\r\n}","import Npc from \"../Entities/characters/Npc\";\r\nimport Item from \"../Entities/items/Item\";\r\nimport Map from \"../Map/Map\";\r\n\r\nexport default class Level {\r\n\r\n    private _name: string;\r\n    \r\n    private _backgroundColor: string;\r\n    \r\n    private _map: Map;\r\n     \r\n    private _enemies: Npc[];\r\n    private _items: Item[];\r\n   \r\n\r\n    constructor(name: string, backgroundColor: string, map: Map, enemies: Npc[], ects: Item[]) {\r\n\r\n        this._name = name;\r\n        this._backgroundColor = backgroundColor;\r\n        this._map = map;\r\n        this._enemies = enemies;\r\n        this._items = ects;\r\n\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    public get backgroundColor(): string {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    public get map(): Map {\r\n        return this._map;\r\n    }\r\n\r\n    public get enemies(): Npc[] {\r\n        return this._enemies;\r\n    }\r\n\r\n    public get items(): Item[] {\r\n        return this._items;\r\n    }\r\n}","import SpritePosition from \"../SpritePosition\";\r\n\r\nexport default class Entity {\r\n\r\n    private _xPos: number;\r\n    private _yPos: number;\r\n    \r\n    private _spriteMap: HTMLImageElement;\r\n    private _spritePos: SpritePosition;\r\n    private _sourceSize: number;\r\n    private _targetSize: number;\r\n\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number) {\r\n        this._xPos = xPos;\r\n        this._yPos = yPos;\r\n\r\n        this._spriteMap = spriteMap;\r\n        this._spritePos = spritePos;\r\n        this._sourceSize = sourceSize;\r\n        this._targetSize = targetSize;\r\n    }\r\n\r\n    public get xPos(): number {\r\n        return this._xPos;\r\n    }\r\n    public set xPos(value: number) {\r\n        this._xPos = value;\r\n    }\r\n\r\n    public get yPos(): number {\r\n        return this._yPos;\r\n    }\r\n    public set yPos(value: number) {\r\n        this._yPos = value;\r\n    }\r\n\r\n    public get spriteMap(): HTMLImageElement {\r\n        return this._spriteMap;\r\n    }\r\n    public set spriteMap(value: HTMLImageElement) {\r\n        this._spriteMap = value;\r\n    }\r\n\r\n    public get spritePos(): SpritePosition {\r\n        return this._spritePos;\r\n    }\r\n    public set spritePos(value: SpritePosition) {\r\n        this._spritePos = value;\r\n    }\r\n    \r\n    public get sourceSize(): number {\r\n        return this._sourceSize;\r\n    }\r\n    public set sourceSize(value: number) {\r\n        this._sourceSize = value;\r\n    }\r\n\r\n    public get targetSize(): number {\r\n        return this._targetSize;\r\n    }\r\n    public set targetSize(value: number) {\r\n        this._targetSize = value;\r\n    }\r\n}","import Entity from \"../Entity\";\r\nimport SpritePosition from \"../../SpritePosition\";\r\n\r\nexport default class Item extends Entity{\r\n    \r\n    // eslint-disable-next-line\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number) {\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize);\r\n    }\r\n\r\n}","/**\r\n * \r\n * helper class for transforming relative positions of sprites in a sprite image\r\n * into x and y pixel values depending on the used sprite size\r\n * \r\n */\r\nexport default class SpritePosition {\r\n\r\n    private _tileX: number;\r\n    \r\n    private _tileY: number;\r\n    \r\n    constructor(tileX: number, tileY: number) {\r\n\r\n        this._tileX = tileX;\r\n        this._tileY = tileY;\r\n    }\r\n\r\n    public get tileX(): number {\r\n        return this._tileX;\r\n    }\r\n\r\n    public get tileY(): number {\r\n        return this._tileY;\r\n    }\r\n\r\n    public getXPosForSpriteWidth(spriteSizeWidth:number): number {\r\n        return spriteSizeWidth*this._tileX;\r\n    }\r\n\r\n    public getYPosForSpriteHeight(spriteSizeHeight:number): number {\r\n        return spriteSizeHeight*this._tileY;\r\n    }\r\n}","import Item from './Item';\r\nimport SpritePosition from '../../SpritePosition';\r\nimport ectsSpriteImage from '../../images/ectsSprite.jpg';\r\n\r\nclass Ects extends Item{\r\n\r\n    constructor(xPos:number, yPos:number) {\r\n        let spriteMap = new Image();\r\n        spriteMap.src = ectsSpriteImage;\r\n        let spritePos = new SpritePosition(0,0);\r\n        let sourceSize = 16;\r\n        let targetSize = 32;\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize);\r\n    }\r\n\r\n}\r\n\r\nexport default Ects;","import Entity from \"../Entity\";\r\nimport SpritePosition from \"../../SpritePosition\";\r\n\r\nexport default class Character extends Entity{\r\n\r\n    private _xSpeed: number;\r\n    private _ySpeed: number;\r\n\r\n    private _xVelocity: number;\r\n    private _xVelocityJump: number;\r\n    private _yVelocity: number;\r\n    private _friction: number;\r\n    \r\n    private _lives: number;\r\n    \r\n\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number, xVelocity:number, xVelocityJump: number, yVelocity:number, friction:number, lives:number) {\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize);\r\n        this._xSpeed = 0;\r\n        this._ySpeed = 0;\r\n\r\n        this._xVelocity = xVelocity;\r\n        this._xVelocityJump = xVelocityJump;\r\n        this._yVelocity = yVelocity;\r\n        this._friction = friction;\r\n        this._lives = lives;\r\n    }\r\n\r\n    public fellOutOfMap(){\r\n        this.takeDamage();\r\n    }\r\n\r\n    public addLife(){\r\n        this._lives += 1;\r\n    }\r\n\r\n    public takeDamage(){\r\n        this._lives -= 1;\r\n    }\r\n\r\n    public kill(){\r\n        this._lives = 0;\r\n    }\r\n\r\n    public isDead(): boolean {\r\n        return this._lives <= 0;\r\n    }\r\n\r\n    public get xSpeed(): number {\r\n        return this._xSpeed;\r\n    }\r\n    public set xSpeed(value: number) {\r\n        this._xSpeed = value;\r\n    }\r\n\r\n    public get ySpeed(): number {\r\n        return this._ySpeed;\r\n    }\r\n    public set ySpeed(value: number) {\r\n        this._ySpeed = value;\r\n    }\r\n\r\n    protected get xVelocity(): number {\r\n        return this._xVelocity;\r\n    }\r\n\r\n    protected get xVelocityJump(): number {\r\n        return this._xVelocityJump;\r\n    }\r\n\r\n    protected get yVelocity(): number {\r\n        return this._yVelocity;\r\n    }\r\n\r\n    protected get friction(): number {\r\n        return this._friction;\r\n    }\r\n    protected set friction(value: number) {\r\n        this._friction = value;\r\n    }\r\n    public get lives(): number {\r\n        return this._lives;\r\n    }\r\n    public set lives(value: number) {\r\n        this._lives = value;\r\n    }\r\n\r\n}","import Character from './Character';\r\nimport SpritePosition from '../../SpritePosition';\r\n\r\nexport default class Npc extends Character {\r\n\r\n    // eslint-disable-next-line\r\n    constructor(xPos:number, yPos:number, spriteMap:HTMLImageElement, spritePos:SpritePosition, sourceSize:number, targetSize:number, xVelocity:number, xVelocityJump: number, yVelocity:number, friction:number, lives:number) {\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, xVelocity, xVelocityJump, yVelocity, friction, lives);\r\n    }\r\n\r\n    public fellOutOfMap(){\r\n        this.kill();\r\n    }\r\n\r\n}","import Npc from './Npc';\r\nimport profSpriteImage from '../../images/profSprite.jpg';\r\nimport SpritePosition from '../../SpritePosition';\r\n\r\nexport default class Prof extends Npc {\r\n    \r\n    constructor(xPos:number, yPos:number) {\r\n\r\n        let spriteMap = new Image();\r\n        spriteMap.src = profSpriteImage;\r\n        let spritePos = new SpritePosition(0,0);\r\n        let sourceSize = 32;\r\n        let targetSize = 32;\r\n        let xVelocity = 1.5;\r\n        let xVelocityJump = 1;\r\n        let yVelocity = 25;\r\n        let friction = 0.8; //TODO probably move friction to TileTypes\r\n        let lives = 1;\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, xVelocity, xVelocityJump, yVelocity, friction, lives);\r\n    }\r\n\r\n    //TODO some kind of \"Artificial Intelligence\" for moving around\r\n\r\n}","import { MapTileType } from './MapTileType';\r\nimport SpritePosition from '../SpritePosition';\r\n\r\nexport default class MapTile {\r\n\r\n    private _xPosCanvas: number;\r\n    private _yPosCanvas: number;\r\n\r\n    private _spritePos: SpritePosition;\r\n    \r\n    private _collision: boolean;\r\n    \r\n    private _solid: boolean;\r\n    \r\n    private _hurtful: boolean;\r\n    \r\n    private _type: MapTileType;\r\n\r\n    private static _sourceSize: number = 16;\r\n    private static _targetSize: number = 32;\r\n    \r\n\r\n    constructor(spritePos: SpritePosition, collision: boolean, solid: boolean, hurtful: boolean, type: MapTileType) {\r\n\r\n        this._xPosCanvas = 0;\r\n        this._yPosCanvas = 0;\r\n        this._spritePos = spritePos;\r\n        this._collision = collision;\r\n        this._solid = solid;\r\n        this._hurtful = hurtful;\r\n        this._type = type;\r\n\r\n    }\r\n\r\n    cloneTile(): MapTile{\r\n        return new MapTile(new SpritePosition(this.spritePos.tileX, this.spritePos.tileY), this.collision, this.solid, this.hurtful, this.type);\r\n    };\r\n\r\n    public get xPosCanvas(): number {\r\n        return this._xPosCanvas;\r\n    }\r\n    public set xPosCanvas(value: number) {\r\n        this._xPosCanvas = value;\r\n    }\r\n\r\n    public get yPosCanvas(): number {\r\n        return this._yPosCanvas;\r\n    }\r\n    public set yPosCanvas(value: number) {\r\n        this._yPosCanvas = value;\r\n    }\r\n\r\n    public get spritePos(): SpritePosition {\r\n        return this._spritePos;\r\n    }\r\n    public set spritePos(value: SpritePosition) {\r\n        this._spritePos = value;\r\n    }\r\n\r\n    public get collision(): boolean {\r\n        return this._collision;\r\n    }\r\n    public set collision(value: boolean) {\r\n        this._collision = value;\r\n    }\r\n\r\n    public get solid(): boolean {\r\n        return this._solid;\r\n    }\r\n    public set solid(value: boolean) {\r\n        this._solid = value;\r\n    }\r\n\r\n    public get hurtful(): boolean {\r\n        return this._hurtful;\r\n    }\r\n    public set hurtful(value: boolean) {\r\n        this._hurtful = value;\r\n    }\r\n\r\n    public get type(): MapTileType {\r\n        return this._type;\r\n    }\r\n    public set type(value: MapTileType) {\r\n        this._type = value;\r\n    }\r\n\r\n    public static get sourceSize(): number {\r\n        return MapTile._sourceSize;\r\n    }\r\n\r\n    public static get targetSize(): number {\r\n        return MapTile._targetSize;\r\n    }\r\n\r\n}","import MapTile from \"./MapTile\";\r\nimport { MapTileType } from \"./MapTileType\";\r\nimport mapTileImage from \"../images/mapTileImage.jpg\";\r\nimport SpritePosition from \"../SpritePosition\";\r\nimport Config from \"../Config\";\r\n\r\nexport default class Map {\r\n\r\n    private _mapTiles: MapTile[][];\r\n    private _spriteMap: HTMLImageElement;\r\n    private _numberOfDisplayedTilesWidth: number;\r\n    private _numberOfDisplayTilesHeight: number;\r\n    private _mapWidth: number;\r\n    private _mapHeight: number;\r\n   \r\n\r\n    constructor(template: string[]) {\r\n\r\n        this._mapTiles = this.generateMapTiles(template);\r\n        this._spriteMap = new Image();\r\n        this._spriteMap.src = mapTileImage;\r\n\r\n        this._numberOfDisplayedTilesWidth = Config.canvasSize.w / MapTile.targetSize; \r\n        this._numberOfDisplayTilesHeight = Config.canvasSize.h / MapTile.targetSize;\r\n\r\n        this._mapWidth = MapTile.targetSize * this._mapTiles[0].length;\r\n        this._mapHeight = MapTile.targetSize * this._mapTiles.length;\r\n    }\r\n\r\n    private generateMapTiles(template: string[]){\r\n        let mapTiles: MapTile[][] = [];\r\n        template.forEach(layer => {\r\n            let currentLayerTiles: MapTile[] = [];\r\n            for(let i=0; i < layer.length; i++){\r\n                currentLayerTiles.push(Map.tiles[layer[i]].cloneTile());\r\n            }\r\n            mapTiles.push(currentLayerTiles);\r\n        });\r\n        return mapTiles;\r\n    }\r\n\r\n    public getGroundLevel(): number{\r\n        return this.mapHeight - MapTile.targetSize*2; //second last tile on y axis\r\n    }\r\n\r\n    private static tiles: { [id: string]: MapTile } = {\r\n        ' ' : new MapTile(new SpritePosition(0,0),true,true,false, MapTileType.DEFAULT),\r\n        '#' : new MapTile(new SpritePosition(1,0),false,false,false, MapTileType.DEFAULT),\r\n        'x' : new MapTile(new SpritePosition(2,0),true,true,false, MapTileType.HIDDEN),\r\n        'r' : new MapTile(new SpritePosition(3,0),false,false,false, MapTileType.HIDDEN),\r\n        'u' : new MapTile(new SpritePosition(4,0),true,false,false, MapTileType.TRAMPOLINE),\r\n        'k' : new MapTile(new SpritePosition(5,0),true,false,false, MapTileType.EXIT),\r\n    }\r\n\r\n    public get mapTiles(): MapTile[][] {\r\n        return this._mapTiles;\r\n    }\r\n    public set mapTiles(value: MapTile[][]) {\r\n        this._mapTiles = value;\r\n    }\r\n\r\n    public get spriteMap(): HTMLImageElement {\r\n        return this._spriteMap;\r\n    }\r\n    public set spriteMap(value: HTMLImageElement) {\r\n        this._spriteMap = value;\r\n    }\r\n\r\n    public get numberOfDisplayedTilesWidth(): number {\r\n        return this._numberOfDisplayedTilesWidth;\r\n    }\r\n\r\n    public get mapWidth(): number {\r\n        return this._mapWidth;\r\n    }\r\n    public get mapHeight(): number {\r\n        return this._mapHeight;\r\n    }\r\n\r\n}","import Level from './Level';\r\nimport Ects from '../Entities/items/Ects';\r\nimport Prof from '../Entities/characters/Prof';\r\nimport Map from '../Map/Map';\r\nimport MapTile from '../Map/MapTile';\r\n\r\nclass Levels {\r\n\r\n    static levels: Level[] = [\r\n\r\n        new Level(\"1\", \"grey\", new Map([\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"                  #######         \",\r\n            \"                                  \",\r\n            \"                                  \",\r\n            \"##################################\",\r\n        ]),\r\n        [\r\n            new Prof( Levels.getCoordinateForRelativeMapPos(20), Levels.getCoordinateForRelativeMapPos(4) )\r\n        ],\r\n        [\r\n            new Ects( Levels.getCoordinateForRelativeMapPos(10), Levels.getCoordinateForRelativeMapPos(1) )\r\n        ],\r\n        ),\r\n\r\n        new Level(\"2\", \"grey\", new Map([\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n        ]),\r\n        [new Prof(0, 0)],\r\n        [new Ects(0, 0)],\r\n        )\r\n\r\n    ];\r\n\r\n    private static getCoordinateForRelativeMapPos(relativeMapPos: number): number{\r\n        return MapTile.targetSize * relativeMapPos;\r\n    }\r\n\r\n}\r\n\r\nexport default Levels;","import Character from './Character';\r\nimport playerSpriteImage from '../../images/playerSprite.jpg';\r\nimport SpritePosition from '../../SpritePosition';\r\n\r\nexport default class Player extends Character {\r\n\r\n    private _speedLimitY: number;\r\n    private _tookDamage: boolean;\r\n    \r\n    constructor(xPos:number, yPos:number) {\r\n        let spriteMap = new Image();\r\n        spriteMap.src = playerSpriteImage;\r\n        let spritePos = new SpritePosition(0,0);\r\n        let sourceSize = 32;\r\n        let targetSize = 42;\r\n        let xVelocity = 1.5;\r\n        let xVelocityJump = 1;\r\n        let yVelocity = 25;\r\n        let friction = 0.8; //TODO probably move friction to TileTypes\r\n        let lives = 3;\r\n        super(xPos, yPos, spriteMap, spritePos, sourceSize, targetSize, xVelocity, xVelocityJump, yVelocity, friction, lives);\r\n        this._speedLimitY = 25;\r\n        this._tookDamage = false;\r\n    }\r\n\r\n\r\n    public accelerateRight(){\r\n        \r\n        if(this.ySpeed === 0){\r\n            this.xSpeed += this.xVelocity;\r\n        } else {\r\n            this.xSpeed += this.xVelocityJump;\r\n        }\r\n\r\n    }\r\n\r\n    public accelerateLeft(){\r\n\r\n        if(this.ySpeed === 0){\r\n            this.xSpeed -= this.xVelocity;\r\n        } else {\r\n            this.xSpeed -= this.xVelocityJump;\r\n        }\r\n\r\n    }\r\n\r\n    public jump(){\r\n\r\n        if(this.ySpeed === 0){\r\n            this.ySpeed -= this.yVelocity; // - because y 0 is on top of canvas so -y means upwards\r\n        }\r\n\r\n    }\r\n\r\n    public animate(){\r\n        //TODO\r\n    }\r\n\r\n    public applyGravity(gravity:number){\r\n\r\n        this.ySpeed = (this.ySpeed+gravity > this.speedLimitY) ? this.speedLimitY : this.ySpeed+gravity;\r\n\r\n    }\r\n\r\n    public updatePos(){\r\n        this.xPos += this.xSpeed;\r\n        this.yPos += this.ySpeed;\r\n    }\r\n\r\n    public resetPlayer() {\r\n        this.lives = 3;\r\n        this._tookDamage = false;\r\n    }\r\n\r\n    public fellOutOfMap(){\r\n        this.takeDamage();\r\n    }\r\n\r\n    public takeDamage(){\r\n        super.takeDamage()\r\n        this._tookDamage = true;\r\n    }\r\n\r\n    public get speedLimitY(): number {\r\n        return this._speedLimitY;\r\n    }\r\n    public set speedLimitY(value: number) {\r\n        this._speedLimitY = value;\r\n    }\r\n    public get tookDamage(): boolean {\r\n        return this._tookDamage;\r\n    }\r\n    public set tookDamage(value: boolean) {\r\n        this._tookDamage = value;\r\n    }\r\n\r\n}","import React from 'react';\r\nimport './Gamecanvas.css';\r\nimport gamesketchimg from './images/gamesketchimg.jpg';\r\nimport Controls from './Controls';\r\nimport Config from './Config';\r\nimport Levels from './Levels/Levels';\r\nimport Level from './Levels/Level';\r\nimport MapTile from './Map/MapTile';\r\nimport Player from './Entities/characters/Player';\r\nimport Character from './Entities/characters/Character';\r\nimport Item from './Entities/items/Item';\r\n\r\nclass Canvas extends React.Component {\r\n\r\n    private gameCanvasRef: any;\r\n    private gameSketchImgRef: any;\r\n\r\n    private ctx: any;\r\n\r\n    private collisionMap: any = [];\r\n    private ticks: number = 0;\r\n\r\n    // position displayed level\r\n    private levelPosX: number = 0;\r\n    // scroll position at the beginning of the game loop\r\n    private levelPosXStart = 0;\r\n\r\n    private currentLevel: Level = Levels.levels[0];\r\n    private player: Player = new Player(0, 0);\r\n\r\n    private characters: Character[] = [];\r\n    private items: Item[] = [];\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.gameCanvasRef = React.createRef();\r\n        this.gameSketchImgRef = React.createRef();\r\n\r\n        this.gameLoop = this.gameLoop.bind(this);\r\n\r\n        this.startGame();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.gameCanvasRef.current;\r\n        this.ctx = canvas.getContext(\"2d\");\r\n        const img = this.gameSketchImgRef.current;\r\n\r\n        if(this.ctx != null && img != null && img.currentSrc != null){\r\n            img.onload = () => {\r\n                this.ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <canvas ref={this.gameCanvasRef} width={Config.canvasSize.w} height={Config.canvasSize.h} />\r\n                <img ref={this.gameSketchImgRef} src={gamesketchimg} className=\"hidden\" alt=\"gameSketchImg\"/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    startGame() {\r\n        //hideMenus();\r\n        Controls.registerKeyEvents()\r\n        this.initializeLevel();\r\n        window.clearInterval(Config.gameInterval);\r\n        Config.gameInterval = setInterval(this.gameLoop, 1000 / Config.fps);\r\n    }\r\n\r\n    gameLoop() {\r\n        this.ticks++;\r\n        this.drawLevel();\r\n        /*\r\n        if(Controls.heldRight){\r\n            this.levelPosX += 5;\r\n        }*/\r\n        this.updatePlayer();\r\n        //updateElements();\r\n        this.drawItems();\r\n        this.drawCharacters();\r\n        //this.drawUI();\r\n        //drawControls();\r\n\r\n        if (this.player.tookDamage) { this.respawnPlayer() }\r\n        //if (this.player.isDead()){ gameOver() };\r\n    }\r\n\r\n    initializeLevel(){\r\n        this.collisionMap = [];\r\n        this.player.resetPlayer();\r\n        this.respawnPlayer()\r\n        this.levelPosX = 0;\r\n        this.characters = this.currentLevel.enemies;\r\n        this.characters.push(this.player);\r\n        this.items = this.currentLevel.items;\r\n    }\r\n\r\n    public respawnPlayer(){\r\n        this.player.xPos = 0;\r\n        this.player.yPos = this.currentLevel.map.getGroundLevel()-10;\r\n        this.player.xSpeed = 0;\r\n        this.player.ySpeed = 0;\r\n        this.player.tookDamage = false;\r\n        this.levelPosX = 0;\r\n    }\r\n\r\n\r\n    drawLevel() {\r\n\r\n        this.ctx.clearRect(0, 0, Config.canvasSize.w, Config.canvasSize.h);\r\n        this.collisionMap = [];\r\n        if (this.levelPosX < 0) {\r\n            this.levelPosX = 0;\r\n        }\r\n        this.levelPosXStart = this.levelPosX;\r\n        // first tile to display:\r\n        let indexFirstTile = Math.trunc(this.levelPosX / MapTile.targetSize);\r\n        let offset_x = this.levelPosX % MapTile.targetSize;\r\n\r\n        // last tile to show\r\n        let indexLastTile = indexFirstTile + this.currentLevel.map.numberOfDisplayedTilesWidth;\r\n    \r\n        let currentLevelMapTiles = this.currentLevel.map.mapTiles;\r\n\r\n        currentLevelMapTiles.forEach((mapTileLayer, index) => {\r\n            this.drawLayer(mapTileLayer, index, indexFirstTile, indexLastTile, offset_x);\r\n        });\r\n        \r\n    }\r\n\r\n    drawLayer(mapTileLayer: MapTile[], currentLayerIndex: number, indexFirstTile: number, indexLastTile: number, offset_x: number) {\r\n        for (let indexCurrentTile = indexFirstTile; indexCurrentTile < indexLastTile; indexCurrentTile++) {\r\n\r\n            let mapTile = mapTileLayer[indexCurrentTile];\r\n            \r\n            if(mapTile){ //if map template smaller than canvas width map tiles not defined -> TODO refactor\r\n                mapTile.xPosCanvas = indexCurrentTile * MapTile.targetSize - offset_x;\r\n                mapTile.yPosCanvas = currentLayerIndex * MapTile.targetSize;\r\n                this.ctx.drawImage(this.currentLevel.map.spriteMap,\r\n                    mapTile.spritePos.getXPosForSpriteWidth(MapTile.sourceSize + 1),\r\n                    mapTile.spritePos.getYPosForSpriteHeight(MapTile.sourceSize + 1),\r\n                    MapTile.sourceSize - 0.8,\r\n                    MapTile.sourceSize - 0.8,\r\n                    mapTile.xPosCanvas - (indexFirstTile * MapTile.targetSize),\r\n                    mapTile.yPosCanvas,\r\n                    MapTile.targetSize,\r\n                    MapTile.targetSize\r\n                );\r\n\r\n                if (mapTile.collision) {\r\n                    this.collisionMap.push(mapTile.cloneTile());\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    drawCharacters(){\r\n        this.characters.forEach((character) => {\r\n            this.ctx.drawImage(\r\n                character.spriteMap,\r\n                character.spritePos.tileX,\r\n                character.spritePos.tileY,\r\n                character.sourceSize,\r\n                character.sourceSize,\r\n                character.xPos - this.levelPosX,\r\n                character.yPos,\r\n                character.targetSize,\r\n                character.targetSize\r\n            );\r\n        });\r\n    }\r\n\r\n    drawItems(){\r\n        this.currentLevel.items.forEach((item) => {\r\n            this.ctx.drawImage(\r\n                item.spriteMap,\r\n                item.spritePos.tileX,\r\n                item.spritePos.tileY,\r\n                item.sourceSize,\r\n                item.sourceSize,\r\n                item.xPos - this.levelPosX,\r\n                item.yPos,\r\n                item.targetSize,\r\n                item.targetSize\r\n            );\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    updatePlayer(){\r\n\r\n        if(Controls.heldRight){\r\n            this.player.accelerateRight();\r\n        }\r\n        if (Controls.heldLeft){\r\n            this.player.accelerateLeft();\r\n        }\r\n\r\n        if (Controls.heldUp){\r\n            this.player.jump();\r\n            //TODO figure out what this is for\r\n            //Controls.heldUp = false; not sure what this is for\r\n        }\r\n\r\n        this.player.animate();\r\n\r\n        this.player.applyGravity(Config.gravity);\r\n\r\n        //TODO figure out what this is for\r\n        //if (Math.abs(this.player.xSpeed) < 0.8) this.player.xSpeed = 0; //unsure what this does\r\n        //if (Math.abs(this.player.ySpeed) < 0.1) this.player.ySpeed = 0; //unsure what this does\r\n\r\n        this.player.updatePos();\r\n\r\n\r\n        this.checkLevelEdgeCollision(this.player);\r\n\r\n        this.checkCollisions();\r\n\r\n        /*\r\n\r\n        \r\n\r\n        // add visible items + actors to collision check\r\n        // todo: only add visible items\r\n        collisionMap = collisionMap.concat(items);\r\n\r\n        collisionMap.forEach(function (object) {\r\n\r\n            var collides = checkCollision(actor, object);\r\n\r\n            // apply collision to player movement\r\n            // special actions on collisions\r\n            if (object.solid) {\r\n                if (collides.top) {\r\n                    if (object.type == 'block_coin') {\r\n                        replaceLevelSpriteXY(object.x, object.y, \"ÃŸ\");\r\n                        items.push({ sx:8, sy:9, x:object.x, y:(object.y - size.tile.target.h), type:'coin' });\r\n                    } else {\r\n                        actor.pos.y = object.y + size.tile.target.h;\r\n                        actor.speed.y = 1;\r\n                    }\r\n                } else if (collides.bottom) {\r\n                    // jump on enemy\r\n                    if (object.type == 'enemy_mushroom') {\r\n                        object.deadly = false\r\n                        object.speed = 0\r\n                        object.sx = 2\r\n                        score++;\r\n                        sound_jump_on_enemy()\r\n                    }\r\n                    actor.pos.y = object.y - actor.target_size.h;\r\n                    actor.speed.y = 0;\r\n                } else if (collides.right) {\r\n                    actor.pos.x = object.x - actor.target_size.w;\r\n                    actor.speed.x = 0;\r\n                } else if (collides.left) {\r\n                    actor.pos.x = object.x + size.tile.target.w;\r\n                    actor.speed.x = 0;\r\n                }\r\n            }\r\n\r\n            // collide from any side\r\n            if (collides.top || collides.bottom || collides.right || collides.left) {\r\n                if (object.deadly == true) {\r\n                    //items.push({ sx:, sy:9, x:actor.pos.x, y:actor.pos.y, deadly:false, type:'looser' });\r\n                    gameOver()\r\n                }\r\n                if (object.type == 'exit') {\r\n                    levelWin()\r\n                }\r\n                if (object.type == 'trampoline') {\r\n                    actor.speed.y < 0 ? actor.speed.y = 0 : true\r\n                    sound_jump()\r\n                    actor.speed.y = -0.5 * actor.speed.y - 25\r\n                }\r\n                if (object.type == 'coin') {\r\n                    items.splice(items.indexOf(object), 1)\r\n                    score++\r\n                    sound_coin()\r\n                }\r\n            }\r\n\r\n\r\n        })\r\n\r\n        // move the player when the level is at it's border, else move the level\r\n        if (scroll_x <= 0) {\r\n            if (actor.pos.x > (size.canvas.w / 2)) {\r\n                scroll_x = 1;\r\n            }\r\n        } else if (scroll_x >= current_level.width - size.canvas.w && current_level.width > size.canvas.w) {\r\n            scroll_x = current_level.width - size.canvas.w;\r\n            if (actor.pos.x < current_level.width - (size.canvas.w / 2)) {\r\n                scroll_x = current_level.width - size.canvas.w - 1;\r\n            }\r\n        } else if (current_level.width > size.canvas.w) {\r\n            scroll_x += actor.speed.x;\r\n        }\r\n\r\n        // apply friction\r\n        actor.speed.x *= speed.player.friction;\r\n\r\n        */\r\n\r\n    }\r\n\r\n    checkLevelEdgeCollision(character: Character){\r\n        if (character.xPos < 0) {\r\n            character.xPos = 0;\r\n        }\r\n        else if (character.xPos + character.targetSize > Config.canvasSize.w) {\r\n            character.xPos = Config.canvasSize.w - character.targetSize;\r\n        }\r\n        // die on level bottom\r\n        if (character.yPos > this.currentLevel.map.mapHeight - MapTile.targetSize) {\r\n            character.fellOutOfMap();\r\n        }\r\n    }\r\n\r\n    checkCollisions(){\r\n        //TODO implement\r\n    }\r\n\r\n}\r\n\r\nexport default Canvas","import React from 'react';\r\nimport './App.css';\r\nimport GameCanvas from './game/Gamecanvas';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1>Life of PiBS</h1>\r\n        <GameCanvas/>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}