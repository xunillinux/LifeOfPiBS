(this.webpackJsonplifeofpibs=this.webpackJsonplifeofpibs||[]).push([[0],[,,,,,,,,,function(e,t,i){e.exports=i.p+"static/media/gamesketchimg.a7e81afa.jpg"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAACAUlEQVRIS9VWsUoDQRCdU8mBpSISWxW5gFapTOFHBOyFFAFrv8JaSCGkFSEfYRErO0EbbSy8QrAPGE9mdmezu7ezm6CCbhPI7ZuZ997s7Gbwz1eWqr8aQIV7sj4k94ZifQfP2Fj+aFF2gEVJ+FgmN48QDrbIAR4nRhsfLxLgIOXxJTSve2KAmOqAyVttgIc7KPcvTJwYCVN8t0M4xJfLJ5SG67DxQQJOEF0hBgkF8AkYLBdvbeAYEoEk9v6U3IgRoH6vBgCsXrYxNiVUbx2A0Th2HhT+RiuPZyeAD7UjFp/1VSrKo5eNf32fdQOT8B2oqHh1aGkhaGutR0E5GO4RVFT4IofsSPUt4/nXCOQNBiZA5PFbAi8SYAUxwFN5Bqv5nkMg4YJyQJPFonGhALYQ9KfnpO8AiiXi8WzoVqo5MLnahUbzpabAQg50Z24FHQi0ouNAq23cDnYAuiQRMBZ3O/D8cUhi7TTPTV+iMrEWmhfvnwPHAX2G7PzU/9MhEbPaPJOnEI4xACKxvXKr+nJ2IJPjFyJ4SQCaQkWuRu50KOa38fExWuTwuXkAS+sNNZP1hZK6jLgQugP8NVJTLRTDGaO4ycZjflxeDWklEYRqRhL7NQbn+ZwCiHeBgP/9p0TiKVC3SP1Tc0NwP/lA+6nHmNQ2EgGHhN4UarskgViCv/DtC4s4VCDE80mRAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAADPklEQVR4Xu2bMWgUQRSG98BO1GCaHIIEm7ioCNqJnY2FXmchCCqijY2NhUoqEQsbBW0E0SJgYRctbOzETkEU1zQiQrhYnETFTjiZ2bzh3bi7M2/vzYznvWtus7c7773//967uVzSyeQx1Qp0qNVfPLxv2HTPvZfvyGtScpD4vPqTzRIDeA2gwK+u5dbfGwBXYCjky/ovffj0/SfvtX1EkPjN4LXV39skMSCMAT7w+3R+MABs46HDd85sHskdzuOTHFNA4o+Cx62/cwKIAWENcE2A0Pp7A1DV4TAFFu9cNXWcP33NHHNOAIlf7q3wg0P/oABwbAahA9oAIPHdm3EnAMf37hr53L/87LaGsHfsUgYE3l26YcD8OihJnTt40rm2a/yp1yV+WP2dJokBYQ1wNUFo/ckAQMIwCewCPsz39Kk9WeZc21V81QSQ+KUCXPo7TbIJFAN4DXA1QWj9nQBAgnWjyC6Aew8g8UsFQukvALhacOP1UAZ4hk8PACS69vpx47eBXLv/OmEkPq/+3hNAACgV+N8AJANwZvGWngCDtVUtyOzcDv386Ppl8lq+4w9fJ/F59SebJgbwGkBtAm79WwPw8NyCzv3sg5UkE2Ca40PtHPpPLACqeAxB7LegVAAOPy+bTTg03zhvwRMNAIagM98j10Idv+p6GMEpAcDGQw1tG4AsWmoBID42r/vxhfnx5pPnnSsnjuouUcdtTG66J2b9uA44Vrn1dx/5K8WoAGDBIaG2CVANqgMAG4/X5IZAxY9RPzYc6oEakwFQRaHdfVRDqde7JkDVelwQxKq/ynxc1z8BQEihfUawfY3dlSGmgMuYEKDZdVaZH20TGEsA11Q4dWBBv8d3Z7bpSzfNbq+9hcsUFSBm/U2xfg++6Xr769/189KbldZ7HdKNMQVogsAXAE7zYwPQFG+qAYBv5dQfnF44tF9Pgvuv3pqdP94wuSYJ9fUUDWDHHKz2ddqqZqwFtRa4njQBcBAVvLt1i0mmbQLU++oAwB3D3flVOQJ8/R8/2f8Lyo6HPw5i6JMCkGXZMM9zk2tRFK1hIkJgfhOWKL5ON89zk0dRFOpUlPor4o7VzOMkLQBsSD/JAPwBALNNTp/ZM+IAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAACB0lEQVRIS5WVv0uCQRjH703QhCQooaIGMwgi2qpVqKWgIcKpKfoDWgohaHBva2uqKQhao4YIrD+hIgoyByMCC0LBErT4nnyP5z3vNbvlvR/P3fdzz/M99dTF7Y/6o63lztRhatEXxbml8o6eT8VrvvVcKdxyKmPOn+pmzesEANESQvbni5sq2httAcAeQFCUQBgDYGEspL8GIDsyaaiyxTvTD70nVL2/oAFkY0YkgBSUsZivflY1KNrM4LS6erjWYw0gxeVGCcIs4CvLsRvJ+MB4u4+9hrpZ7dZrU0df+ssxANAA8S8Al1UIAOHZU88XAkFbHOO+ja7OPcDUy1tP1JLmgPVYWtcS4pXqt+qJRny3JQA3yBiA6AywzgjC4ffhvI4PqjsPQ+zywYqBkYdLQfQJhr6Ma/sKgpwv87y9v2WG8aFh3S+9vvhK4QIjiBc6rujfAThdtnZvH3HMGgEobgNAnBmQfWr5SsDasgQu09lzAAi6uZ1uZqKlBLjNeKzpTIpLX7hAsI6WOUm3AACokG/6yG7wgsyE8QAF595G1eXAs06xhJJjgtompJgNkEg2Xw2gAIB1+sQHQC8QxhbF+mO5ocGYKZSgnfuxBwAUtMulTcibUkCC2KVxeUDWVq7Lp2fvYxmczzDod4GHsP54OfIZ2qaTokFG/fPf0PUyJKCrBEHv3gX4C3fMWq16oO9EAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAC9ElEQVR4Xu2bMUgcURCGd5FABAubQOw03RYpQkgR0tgIV6h4hRJDbFIl6S0ipBK0SJ9YXSOoaHFBxRzYpAmpgkWKLQJeuuQIQgpjAkFW3pyz3D5ub9579/YttzvX7N3e7v4z/3wz+/ZE3+NXqR3wdbOPNryo1zn+c0/7mjoxsL5d/7WLxQWwWwAd+MWxtv1XBoASxkSav4bg7Z3Xl8rXVjGB9XuDZ+q/cpG4ANkUQAV+lc7PDAC58NjhE7cuE7HjfjmhficB6yfBs+0/OQG4ANkWgJoAWfuvDEBah+MkaD3Yhlwujp4mcrI1AVi/vbaSX/36zwAQLYgdmBeAp6tDPR+7MwdADmBiqQ6WNTersI3XApV9+Nw6+5OYBP1OANZPAmDbf3ICDHoBsMFNQSx6/toAoKFIojxB/fFZ2HW6auf3gLQRSOl7XvsXSTzfFgBFy58BINYApgAOSgOQAKA/aaNQ9g/XALfvLypfm3oU6uxkqgNZv70GU/VfuUgMQPfF2KA3gDIAmOjPL9s9H0tUyVPp+m7HsL5d/xkATRKLBqA2ANP1OZgAd7f+gXVfn9yE7WH1vfa1VLx/NV9JTBzUc6Uvx1i0/LWL5tqAWq0WffuwG9ehbABknT8JgNyBWIm1Ny/h7cryW9iu7zXIa6l0vHyMbIBr/aLnTxaNC5CcQEUDUBsAHMEH956BFzMntVzWAK7000awK/20NZAtfRKArAOgbgus330RnDsAcuFcPwWwftIBU/+NJ4CrAqQ9hrnST5tArvSzzp8BIO5BpQcgzZ+ppc/RyMgYfF1/N06CRN3rdb4X2uL4vPSFdvXFd4jh/PyHd7z50Gn+ndoihn70jQNnAEoOwKOZnejG8Cg07sfdijFIOp0vjhW6Yvvp4LE/udCA9y71MV7U/v/3N8Sim4fp8Z05d3phej3jwBmANnylBUD8m1oQBDF4YRgaw6RJb/zHoZz0IdwgCOI4wjAUu5zk30UX7TPSNzrpWpEBuDZikAG4AoTccE5ZZQccAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAf0lEQVQ4T7VTWw7AIAjD+x/aBZOSIo/FmfknpZVHHZKfWcQ1PBhzFxFh4o4pL+CcBDAj7gVZLpJPyBBbHBXoyK8tQaCbRTuzTKCqKIvPXwSwrqqt4AMtLUu+FmDXVduwGQSLbq7jlTvzsZFOHGirvXHiEvn6F0IFzt/NVwZkDz/OZygJThsIYgAAAABJRU5ErkJggg=="},,,function(e,t,i){e.exports=i(25)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var s=i(5),n=i.n(s),o=i(8),a=i.n(o),r=(i(22),i(23),i(0)),c=i(1),h=i(3),l=i(2),u=i(6),p=i(4),f=(i(24),i(9)),v=i.n(f),d=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"registerKeyEvents",value:function(){window.onkeydown=function(t){switch(t.keyCode){case 37:t.preventDefault(),e.heldLeft=!0;break;case 32:case 38:t.preventDefault(),e.heldUp=!0;break;case 39:t.preventDefault(),e.heldRight=!0;break;case 40:t.preventDefault(),e.heldDown=!0;break;case 27:t.preventDefault(),e.Escape=!0;break;case 69:t.preventDefault(),e.heldE=!0;break;default:return}return!1},window.onkeyup=function(t){switch(t.keyCode){case 37:t.preventDefault(),e.heldLeft=!1;break;case 32:case 38:t.preventDefault(),e.heldUp=!1;break;case 39:t.preventDefault(),e.heldRight=!1;break;case 40:t.preventDefault(),e.heldDown=!1;break;case 69:t.preventDefault(),e.heldE=!1;break;default:return}return!1}}}]),e}();d.heldLeft=!1,d.heldRight=!1,d.heldUp=!1,d.heldDown=!1,d.Escape=!1,d.heldE=!1;var g=d,y=function e(){Object(r.a)(this,e)};y.canvasSize={w:755,h:425},y.gravity=2,y.fps=30,y.gameInterval=void 0;var A,m=function(){function e(t,i,s,n,o){Object(r.a)(this,e),this._name=void 0,this._backgroundColor=void 0,this._map=void 0,this._enemies=void 0,this._items=void 0,this._name=t,this._backgroundColor=i,this._map=s,this._enemies=n,this._items=o}return Object(c.a)(e,[{key:"name",get:function(){return this._name}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"map",get:function(){return this._map}},{key:"enemies",get:function(){return this._enemies}},{key:"items",get:function(){return this._items},set:function(e){this._items=e}}]),e}(),P=i(26),k=function(){function e(t,i,s,n,o,a,c){Object(r.a)(this,e),this._id=void 0,this._xPos=void 0,this._yPos=void 0,this._collision=void 0,this._spriteMap=void 0,this._spritePos=void 0,this._sourceSize=void 0,this._targetSize=void 0,this._xPos=t,this._yPos=i,this._collision=c,this._spriteMap=s,this._spritePos=n,this._sourceSize=o,this._targetSize=a,this._id=Object(P.a)()}return Object(c.a)(e,[{key:"handleLevelEdgeCollision",value:function(e){}},{key:"fellOutOfMap",value:function(){}},{key:"id",get:function(){return this._id}},{key:"xPos",get:function(){return this._xPos},set:function(e){this._xPos=e}},{key:"yPos",get:function(){return this._yPos},set:function(e){this._yPos=e}},{key:"spriteMap",get:function(){return this._spriteMap},set:function(e){this._spriteMap=e}},{key:"spritePos",get:function(){return this._spritePos},set:function(e){this._spritePos=e}},{key:"sourceSize",get:function(){return this._sourceSize},set:function(e){this._sourceSize=e}},{key:"targetSize",get:function(){return this._targetSize},set:function(e){this._targetSize=e}},{key:"collision",get:function(){return this._collision}}]),e}(),S=function(e){function t(e,i,s,n,o,a,c,u){var p;return Object(r.a)(this,t),(p=Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,o,a,c)))._isCollected=void 0,p._isCollected=u,p}return Object(p.a)(t,e),Object(c.a)(t,[{key:"animate",value:function(e){}},{key:"isCollected",get:function(){return this._isCollected},set:function(e){this._isCollected=e}}]),t}(k),_=function(){function e(t,i){Object(r.a)(this,e),this._tileX=void 0,this._tileY=void 0,this._tileX=t,this._tileY=i}return Object(c.a)(e,[{key:"getXPosForSpriteWidth",value:function(e){return e*this._tileX}},{key:"getYPosForSpriteHeight",value:function(e){return e*this._tileY}},{key:"tileX",get:function(){return this._tileX},set:function(e){this._tileX=e}},{key:"tileY",get:function(){return this._tileY},set:function(e){this._tileY=e}}]),e}(),b=i(10),O=i.n(b),x=function(e){function t(e,i){Object(r.a)(this,t);var s=new Image;s.src=O.a;var n=new _(0,0);return Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,16,32,!0,!1))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"animate",value:function(e){if(e%10===0)switch(this.spritePos.tileX){case 0:this.spritePos.tileX=1;break;case 1:this.spritePos.tileX=2;break;case 2:this.spritePos.tileX=0}}}]),t}(S),w=function(e){function t(e,i,s,n,o,a,c,u,p,f,v,d){var g;return Object(r.a)(this,t),(g=Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,o,a,d)))._xSpeed=void 0,g._ySpeed=void 0,g._xVelocity=void 0,g._xVelocityJump=void 0,g._yVelocity=void 0,g._friction=void 0,g._lives=void 0,g._xSpeed=0,g._ySpeed=0,g._xVelocity=c,g._xVelocityJump=u,g._yVelocity=p,g._friction=f,g._lives=v,g}return Object(p.a)(t,e),Object(c.a)(t,[{key:"addLife",value:function(){this._lives+=1}},{key:"takeDamage",value:function(){this._lives-=1}},{key:"kill",value:function(){this._lives=0}},{key:"isDead",value:function(){return this._lives<=0}},{key:"xSpeed",get:function(){return this._xSpeed},set:function(e){this._xSpeed=e}},{key:"ySpeed",get:function(){return this._ySpeed},set:function(e){this._ySpeed=e}},{key:"xVelocity",get:function(){return this._xVelocity}},{key:"xVelocityJump",get:function(){return this._xVelocityJump}},{key:"yVelocity",get:function(){return this._yVelocity}},{key:"friction",get:function(){return this._friction},set:function(e){this._friction=e}},{key:"lives",get:function(){return this._lives},set:function(e){this._lives=e}}]),t}(k),C=function(e){function t(e,i,s,n,o,a,c,u,p,f,v,d,g){var y;return Object(r.a)(this,t),(y=Object(h.a)(this,Object(l.a)(t).call(this,e,i,s,n,o,a,c,u,p,v,d,g)))._speedLimitY=void 0,y._speedLimitY=f,y}return Object(p.a)(t,e),Object(c.a)(t,[{key:"fellOutOfMap",value:function(){this.kill()}},{key:"animate",value:function(e){}},{key:"move",value:function(e){}},{key:"applyGravity",value:function(e){}},{key:"switchDirection",value:function(){}},{key:"handleLevelEdgeCollision",value:function(e){this.xPos<0?(this.xPos=0,this.switchDirection()):this.xPos+this.targetSize>e.mapWidth&&(this.xPos=e.mapWidth-this.targetSize,this.switchDirection())}},{key:"speedLimitY",get:function(){return this._speedLimitY},set:function(e){this._speedLimitY=e}}]),t}(w),z=i(11),j=i.n(z),L=function(e){function t(e,i){var s;Object(r.a)(this,t);var n=new Image;n.src=j.a;var o=new _(0,0);return(s=Object(h.a)(this,Object(l.a)(t).call(this,e,i,n,o,32,32,2,1,25,25,.4,1,!0))).movingRight=void 0,s.movingLeft=void 0,s.xSpeed=4,s.movingLeft=!0,s.movingRight=!s.movingLeft,s}return Object(p.a)(t,e),Object(c.a)(t,[{key:"animate",value:function(e){if(e%4===0)switch(this.spritePos.tileX){case 0:this.spritePos.tileX=1;break;case 1:this.spritePos.tileX=2;break;case 2:this.spritePos.tileX=3;break;case 3:default:this.spritePos.tileX=0}}},{key:"move",value:function(e){this.movingLeft?this.moveLeft(e):this.movingRight&&this.moveRight(e)}},{key:"moveLeft",value:function(e){var t=e.getMapTileAtXY(this.xPos,this.yPos+this.targetSize);!t||t.solid&&!t.hurtful?this.xPos-=this.xSpeed:this.switchDirection()}},{key:"moveRight",value:function(e){var t=e.getMapTileAtXY(this.xPos+this.targetSize,this.yPos+this.targetSize);!t||t.solid&&!t.hurtful?this.xPos+=this.xSpeed:this.switchDirection()}},{key:"switchDirection",value:function(){this.movingLeft=!this.movingLeft,this.movingRight=!this.movingRight}},{key:"applyGravity",value:function(e){this.ySpeed=this.ySpeed+e>this.speedLimitY?this.speedLimitY:this.ySpeed+e,this.yPos+=this.ySpeed}}]),t}(C);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HIDDEN=1]="HIDDEN",e[e.HURTFUL=2]="HURTFUL",e[e.EXIT=3]="EXIT",e[e.TRAMPOLINE=4]="TRAMPOLINE",e[e.ICE=5]="ICE"}(A||(A={}));var E=function(){function e(t,i,s,n,o){Object(r.a)(this,e),this._id=void 0,this._xPos=void 0,this._yPos=void 0,this._xPosCanvas=void 0,this._yPosCanvas=void 0,this._spritePos=void 0,this._collision=void 0,this._solid=void 0,this._hurtful=void 0,this._type=void 0,this._friction=.8,this._targetSize=void 0,this._xPos=0,this._yPos=0,this._xPosCanvas=0,this._yPosCanvas=0,this._spritePos=t,this._collision=i,this._solid=s,this._hurtful=n,this._type=o,this._targetSize=e.targetSize,this.setFriction(),this._id=Object(P.a)()}return Object(c.a)(e,[{key:"cloneTile",value:function(){var t=new e(new _(this.spritePos.tileX,this.spritePos.tileY),this.collision,this.solid,this.hurtful,this.type);return t.xPos=this._xPos,t.yPos=this._yPos,t.xPosCanvas=this._xPosCanvas,t.yPosCanvas=this._yPosCanvas,t}},{key:"setFriction",value:function(){switch(this._type){case A.ICE:this._friction=.95;break;default:this._friction=.9}}},{key:"id",get:function(){return this._id}},{key:"xPos",get:function(){return this._xPos},set:function(e){this._xPos=e}},{key:"yPos",get:function(){return this._yPos},set:function(e){this._yPos=e}},{key:"xPosCanvas",get:function(){return this._xPosCanvas},set:function(e){this._xPosCanvas=e}},{key:"yPosCanvas",get:function(){return this._yPosCanvas},set:function(e){this._yPosCanvas=e}},{key:"spritePos",get:function(){return this._spritePos},set:function(e){this._spritePos=e}},{key:"collision",get:function(){return this._collision},set:function(e){this._collision=e}},{key:"solid",get:function(){return this._solid},set:function(e){this._solid=e}},{key:"hurtful",get:function(){return this._hurtful},set:function(e){this._hurtful=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"targetSize",get:function(){return this._targetSize}},{key:"friction",get:function(){return this._friction}}],[{key:"sourceSize",get:function(){return e._sourceSize}},{key:"targetSize",get:function(){return e._targetSize}}]),e}();E._sourceSize=16,E._targetSize=32;var D=i(12),I=i.n(D),R=function(){function e(t){Object(r.a)(this,e),this._mapTiles=void 0,this._spriteMap=void 0,this._numberOfDisplayedTilesWidth=void 0,this._numberOfDisplayTilesHeight=void 0,this._mapWidth=void 0,this._mapHeight=void 0,this._mapTiles=this.generateMapTiles(t),this._spriteMap=new Image,this._spriteMap.src=I.a,this._numberOfDisplayedTilesWidth=y.canvasSize.w/E.targetSize,this._numberOfDisplayTilesHeight=y.canvasSize.h/E.targetSize,this._mapWidth=E.targetSize*this._mapTiles[0].length,this._mapHeight=E.targetSize*this._mapTiles.length}return Object(c.a)(e,[{key:"generateMapTiles",value:function(t){var i=[];return t.forEach((function(t,s){for(var n=[],o=0;o<t.length;o++){var a=n.push(e.tiles[t[o]].cloneTile())-1;n[a].xPos=o*E.targetSize,n[a].yPos=s*E.targetSize}i.push(n)})),i}},{key:"getGroundLevel",value:function(){return this.mapHeight-2*E.targetSize}},{key:"getMapTileAtXY",value:function(e,t){var i=Math.trunc(e/E.targetSize),s=Math.trunc(t/E.targetSize);return this.mapTiles[s][i]}},{key:"mapTiles",get:function(){return this._mapTiles},set:function(e){this._mapTiles=e}},{key:"spriteMap",get:function(){return this._spriteMap},set:function(e){this._spriteMap=e}},{key:"numberOfDisplayedTilesWidth",get:function(){return this._numberOfDisplayedTilesWidth}},{key:"mapWidth",get:function(){return this._mapWidth}},{key:"mapHeight",get:function(){return this._mapHeight}}]),e}();R.tiles={" ":new E(new _(0,0),!1,!1,!1,A.DEFAULT),"#":new E(new _(1,0),!0,!0,!1,A.DEFAULT)};var M=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getCoordinateForRelativeMapPos",value:function(e){return E.targetSize*e}}]),e}();M.levels=[new m("1","grey",new R(["                                  ","                                  ","                                  ","                                  ","                                  ","                  #######         ","                                  ","                                  ","##################################"]),[new L(M.getCoordinateForRelativeMapPos(20),M.getCoordinateForRelativeMapPos(4))],[new x(M.getCoordinateForRelativeMapPos(10),M.getCoordinateForRelativeMapPos(1))]),new m("2","grey",new R(["","",""]),[new L(0,0)],[new x(0,0)])];var Q=M,T=i(15),X=i(13),B=i.n(X),F=i(14),U=i.n(F),V=function(e){function t(e,i,s){var n;Object(r.a)(this,t);var o=new Image;o.src=U.a;var a=new _(0,0);return(n=Object(h.a)(this,Object(l.a)(t).call(this,e,i,o,a,16,32,!0)))._hasCollided=void 0,n._xSpeed=void 0,n._xSpeed=s?15:-15,n._hasCollided=!1,n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updatePos",value:function(e,t){this.xPos=e,this.yPos=t}},{key:"animate",value:function(e){}},{key:"move",value:function(){this.xPos+=this._xSpeed}},{key:"handleLevelEdgeCollision",value:function(){this._hasCollided=!0}},{key:"fellOutOfMap",value:function(){this._hasCollided=!0}},{key:"hasCollided",get:function(){return this._hasCollided},set:function(e){this._hasCollided=e}}]),t}(k),N=function(e){function t(e,i){var s;Object(r.a)(this,t);var n=new Image;n.src=B.a;var o=new _(0,0);return(s=Object(h.a)(this,Object(l.a)(t).call(this,e,i,n,o,32,42,2,2,25,.9,3,!0)))._speedLimitX=void 0,s._speedLimitY=void 0,s._tookDamage=void 0,s._ects=void 0,s._facingRight=void 0,s._speedLimitX=12,s._speedLimitY=25,s._tookDamage=!1,s._ects=0,s._facingRight=!0,s}return Object(p.a)(t,e),Object(c.a)(t,[{key:"accelerateRight",value:function(){this.xSpeed<this._speedLimitX&&(0===this.ySpeed?this.xSpeed+=this.xVelocity*this.friction:this.xSpeed+=this.xVelocityJump*this.friction),this._facingRight=this.xSpeed>0}},{key:"accelerateLeft",value:function(){this.xSpeed>-this._speedLimitX&&(0===this.ySpeed?this.xSpeed-=this.xVelocity*this.friction:this.xSpeed-=this.xVelocityJump*this.friction),this._facingRight=this.xSpeed>0}},{key:"jump",value:function(){0===this.ySpeed&&(this.ySpeed-=this.yVelocity)}},{key:"smallJump",value:function(){0===this.ySpeed&&(this.ySpeed-=this.yVelocity/2)}},{key:"bigJump",value:function(){0===this.ySpeed&&(this.ySpeed-=2*this.yVelocity)}},{key:"animate",value:function(e){if(e%4!==0||0===this.xSpeed&&0===this.ySpeed)this.spritePos.tileX=0;else switch(this.spritePos.tileX){case 0:this.spritePos.tileX=1;break;case 1:this.spritePos.tileX=2;break;case 2:this.spritePos.tileX=3;break;case 3:default:this.spritePos.tileX=0}}},{key:"applyGravity",value:function(e){this.ySpeed=this.ySpeed+e>this.speedLimitY?this.speedLimitY:this.ySpeed+e}},{key:"updatePos",value:function(){this.xPos+=this.xSpeed,this.yPos+=this.ySpeed}},{key:"resetPlayer",value:function(){this.lives=3,this._tookDamage=!1}},{key:"fellOutOfMap",value:function(){this.takeDamage()}},{key:"takeDamage",value:function(){Object(T.a)(Object(l.a)(t.prototype),"takeDamage",this).call(this),this._tookDamage=!0}},{key:"handleLevelEdgeCollision",value:function(e){this.xPos<0?(this.xPos=0,this.xSpeed=0):this.xPos+this.targetSize>e.mapWidth&&(this.xPos=e.mapWidth-this.targetSize,this.xSpeed=0)}},{key:"shoot",value:function(){if(this._facingRight){var e=new V(0,0,!0);return e.updatePos(this.xPos+this.targetSize,this.yPos),e}var t=new V(0,0,!1);return t.updatePos(this.xPos-t.targetSize,this.yPos),t}},{key:"addEcts",value:function(){this._ects++}},{key:"speedLimitY",get:function(){return this._speedLimitY},set:function(e){this._speedLimitY=e}},{key:"tookDamage",get:function(){return this._tookDamage},set:function(e){this._tookDamage=e}},{key:"ects",get:function(){return this._ects}}]),t}(w),Y=function(){function e(t,i,s,n){Object(r.a)(this,e),this._top=void 0,this._bot=void 0,this._right=void 0,this._left=void 0,this._top=t||!1,this._bot=i||!1,this._right=n||!1,this._left=s||!1}return Object(c.a)(e,[{key:"doesCollide",value:function(){return this._top||this._bot||this._right||this._left}},{key:"top",get:function(){return this._top},set:function(e){this._top=e}},{key:"bot",get:function(){return this._bot},set:function(e){this._bot=e}},{key:"right",get:function(){return this._right},set:function(e){this._right=e}},{key:"left",get:function(){return this._left},set:function(e){this._left=e}}]),e}(),W=function(){function e(t){Object(r.a)(this,e),this._collisionObjects=void 0,this._collisionObjects=t||[]}return Object(c.a)(e,[{key:"collisionObjects",get:function(){return this._collisionObjects},set:function(e){this._collisionObjects=e}}],[{key:"checkCollision",value:function(e,t){var i=new Y,s=e.xPos+e.targetSize/2,n=e.yPos+e.targetSize/2,o=e.xPos+e.targetSize,a=e.yPos+e.targetSize,r=t.xPos+t.targetSize,c=t.yPos+t.targetSize;return this.inRange(s,t.xPos-.25*t.targetSize,t.xPos+1.25*t.targetSize)&&(this.inRange(a,t.yPos,c)&&e.yPos<t.yPos?i.bot=!0:this.inRange(e.yPos,t.yPos,c)&&(i.top=!0)),this.inRange(n,t.yPos-.25*t.targetSize,t.yPos+1.25*t.targetSize)&&(this.inRange(o,t.xPos,r)&&(i.right=!0),this.inRange(e.xPos,t.xPos,r)&&(i.left=!0)),i}},{key:"processPlayerNpcCollision",value:function(e,t,i){i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0,t.takeDamage(),e.smallJump()):(i.top||i.right||i.left)&&e.takeDamage()}},{key:"processPlayerMapTileCollision",value:function(e,t,i,s){switch(t.solid&&(i.top?(e.yPos=t.yPos+t.targetSize,e.ySpeed=1):i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0,e.xSpeed*=t.friction):i.right?(e.xPos=t.xPos-e.targetSize,e.xSpeed=0):i.left&&(e.xPos=t.xPos+t.targetSize,e.xSpeed=0)),t.type){case A.HURTFUL:e.takeDamage();break;case A.TRAMPOLINE:e.bigJump();break;case A.EXIT:s.levelEnd=!0}}},{key:"processEnemyMapTileCollision",value:function(e,t,i){switch(t.solid&&(i.top?(e.yPos=t.yPos+t.targetSize,e.ySpeed=1):i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0):i.right?(e.xPos=t.xPos-e.targetSize,e.switchDirection()):i.left&&(e.xPos=t.xPos+t.targetSize,e.switchDirection())),t.type){case A.HURTFUL:e.takeDamage()}}},{key:"processPlayerItemCollision",value:function(e,t,i){t instanceof x&&(e.addEcts(),t.isCollected=!0)}},{key:"inRange",value:function(e,t,i){return e>=t&&e<=i}}]),e}(),H=function e(){Object(r.a)(this,e),this.levelEnd=!1},G=function(e){function t(e){var i;return Object(r.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).gameCanvasRef=void 0,i.gameSketchImgRef=void 0,i.ctx=void 0,i.ticks=0,i.currentLevel=Q.levels[0],i.levelPosX=0,i.collisionMap=new W,i.player=new N(0,0),i.characters=[],i.projectiles=[],i.currentEctsScore=0,i.gameCanvasRef=n.a.createRef(),i.gameSketchImgRef=n.a.createRef(),i.gameLoop=i.gameLoop.bind(Object(u.a)(i)),i.startGame(),i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.gameCanvasRef.current;this.ctx=t.getContext("2d");var i=this.gameSketchImgRef.current;null!=this.ctx&&null!=i&&null!=i.currentSrc&&(i.onload=function(){e.ctx.drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height)})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{ref:this.gameCanvasRef,width:y.canvasSize.w,height:y.canvasSize.h}),n.a.createElement("img",{ref:this.gameSketchImgRef,src:v.a,className:"hidden",alt:"gameSketchImg"}))}},{key:"startGame",value:function(){g.registerKeyEvents(),this.initializeLevel(),window.clearInterval(y.gameInterval),y.gameInterval=setInterval(this.gameLoop,1e3/y.fps)}},{key:"gameLoop",value:function(){this.ticks++,this.characters=this.currentLevel.enemies.slice(),this.characters.push(this.player),this.drawLevel(),this.updatePlayer(),this.updateNpc(),this.updateItems(),this.updateProjectiles(),this.drawEntities(this.currentLevel.items),this.drawEntities(this.characters),this.drawEntities(this.projectiles),this.drawUI(),this.drawControls(),this.player.tookDamage&&this.respawnPlayer(),this.player.isDead()&&this.gameOver()}},{key:"initializeLevel",value:function(){this.collisionMap.collisionObjects=[],this.player.resetPlayer(),this.respawnPlayer(),this.levelPosX=0,this.characters=this.currentLevel.enemies.slice(),this.characters.push(this.player),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.enemies),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.items),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.map.mapTiles.flat().filter((function(e){return e.collision}))),console.log(this.collisionMap.collisionObjects)}},{key:"respawnPlayer",value:function(){this.player.xPos=0,this.player.yPos=this.currentLevel.map.getGroundLevel()-10,this.player.xSpeed=0,this.player.ySpeed=0,this.player.tookDamage=!1,this.levelPosX=0}},{key:"drawLevel",value:function(){var e=this;this.ctx.clearRect(0,0,y.canvasSize.w,y.canvasSize.h),this.levelPosX<0&&(this.levelPosX=0);var t=Math.trunc(this.levelPosX/E.targetSize),i=this.levelPosX%E.targetSize,s=t+this.currentLevel.map.numberOfDisplayedTilesWidth;this.currentLevel.map.mapTiles.forEach((function(n,o){e.drawLayer(n,o,t,s,i)}))}},{key:"drawLayer",value:function(e,t,i,s,n){for(var o=i;o<s;o++){var a=e[o];a&&(a.xPosCanvas=o*E.targetSize-n,a.yPosCanvas=t*E.targetSize,this.ctx.drawImage(this.currentLevel.map.spriteMap,a.spritePos.getXPosForSpriteWidth(E.sourceSize+1),a.spritePos.getYPosForSpriteHeight(E.sourceSize+1),E.sourceSize-.8,E.sourceSize-.8,a.xPosCanvas-i*E.targetSize,a.yPosCanvas,E.targetSize,E.targetSize))}}},{key:"drawEntities",value:function(e){var t=this;e.forEach((function(e){t.ctx.drawImage(e.spriteMap,e.spritePos.getXPosForSpriteWidth(e.sourceSize),e.spritePos.getYPosForSpriteHeight(e.sourceSize),e.sourceSize,e.sourceSize,e.xPos-t.levelPosX,e.yPos,e.targetSize,e.targetSize)}))}},{key:"updatePlayer",value:function(){g.heldRight&&this.player.accelerateRight(),g.heldLeft&&this.player.accelerateLeft(),g.heldUp&&this.player.jump(),g.heldE&&this.projectiles.push(this.player.shoot()),Math.abs(this.player.xSpeed)<.8&&(this.player.xSpeed=0),Math.abs(this.player.ySpeed)<.1&&(this.player.ySpeed=0),this.player.animate(this.ticks),this.player.applyGravity(y.gravity),this.player.updatePos(),this.checkLevelEdgeCollision(this.player),this.updateMapPosition(this.player),this.checkPlayerCollisions()}},{key:"updateNpc",value:function(){var e=this;this.currentLevel.enemies.forEach((function(t,i,s){if(t.isDead())return s.splice(i,1),void e.collisionMap.collisionObjects.splice(e.collisionMap.collisionObjects.findIndex((function(e){return e.id===t.id})),1);t.animate(e.ticks),t.move(e.currentLevel.map),t.applyGravity(y.gravity),e.checkLevelEdgeCollision(t),e.checkEnemyCollisions(t)}))}},{key:"updateItems",value:function(){var e=this;this.currentLevel.items.forEach((function(t){t.isCollected&&t instanceof x&&e.currentEctsScore++,t.animate(e.ticks)})),this.currentLevel.items=this.currentLevel.items.filter((function(e){return!e.isCollected}))}},{key:"updateProjectiles",value:function(){var e=this;console.log(this.projectiles),this.projectiles.forEach((function(t,i,s){if(t.hasCollided)return s.splice(i,1),void e.collisionMap.collisionObjects.splice(e.collisionMap.collisionObjects.findIndex((function(e){return e.id===t.id})),1);t.animate(e.ticks),t.move(),e.checkLevelEdgeCollision(t),e.checkProjectileCollisions(t)}))}},{key:"checkLevelEdgeCollision",value:function(e){e.handleLevelEdgeCollision(this.currentLevel.map),e.yPos>this.currentLevel.map.mapHeight-E.targetSize&&e.fellOutOfMap()}},{key:"updateMapPosition",value:function(e){this.levelPosX<=0?e.xPos>y.canvasSize.w/2&&(this.levelPosX=1):this.levelPosX>=this.currentLevel.map.mapWidth-y.canvasSize.w&&this.currentLevel.map.mapWidth>y.canvasSize.w?(this.levelPosX=this.currentLevel.map.mapWidth-y.canvasSize.w,e.xPos<this.currentLevel.map.mapWidth-y.canvasSize.w/2&&(this.levelPosX=this.currentLevel.map.mapWidth-y.canvasSize.w-1)):this.currentLevel.map.mapWidth>y.canvasSize.w&&(this.levelPosX+=e.xSpeed)}},{key:"checkPlayerCollisions",value:function(){var e=this;this.collisionMap.collisionObjects.forEach((function(t){var i=W.checkCollision(e.player,t);if(i.doesCollide()){var s=new H;t instanceof C?W.processPlayerNpcCollision(e.player,t,i):t instanceof E?W.processPlayerMapTileCollision(e.player,t,i,s):t instanceof S&&W.processPlayerItemCollision(e.player,t,i),s.levelEnd&&e.endLevel()}}))}},{key:"checkEnemyCollisions",value:function(e){this.collisionMap.collisionObjects.forEach((function(t){if(t instanceof E){var i=W.checkCollision(e,t);W.processEnemyMapTileCollision(e,t,i)}}))}},{key:"checkProjectileCollisions",value:function(e){this.collisionMap.collisionObjects.forEach((function(t){W.checkCollision(e,t).doesCollide()&&(t instanceof E?e.hasCollided=!0:t instanceof C&&(t.takeDamage(),e.hasCollided=!0))}))}},{key:"endLevel",value:function(){}},{key:"gameOver",value:function(){}},{key:"drawUI",value:function(){}},{key:"drawControls",value:function(){}}]),t}(n.a.Component);var J=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h1",null,"Life of PiBS"),n.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(n.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.6fabc0af.chunk.js.map