(this.webpackJsonplifeofpibs=this.webpackJsonplifeofpibs||[]).push([[0],[,,,,,,,,,function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAACAUlEQVRIS9VWsUoDQRCdU8mBpSISWxW5gFapTOFHBOyFFAFrv8JaSCGkFSEfYRErO0EbbSy8QrAPGE9mdmezu7ezm6CCbhPI7ZuZ997s7Gbwz1eWqr8aQIV7sj4k94ZifQfP2Fj+aFF2gEVJ+FgmN48QDrbIAR4nRhsfLxLgIOXxJTSve2KAmOqAyVttgIc7KPcvTJwYCVN8t0M4xJfLJ5SG67DxQQJOEF0hBgkF8AkYLBdvbeAYEoEk9v6U3IgRoH6vBgCsXrYxNiVUbx2A0Th2HhT+RiuPZyeAD7UjFp/1VSrKo5eNf32fdQOT8B2oqHh1aGkhaGutR0E5GO4RVFT4IofsSPUt4/nXCOQNBiZA5PFbAi8SYAUxwFN5Bqv5nkMg4YJyQJPFonGhALYQ9KfnpO8AiiXi8WzoVqo5MLnahUbzpabAQg50Z24FHQi0ouNAq23cDnYAuiQRMBZ3O/D8cUhi7TTPTV+iMrEWmhfvnwPHAX2G7PzU/9MhEbPaPJOnEI4xACKxvXKr+nJ2IJPjFyJ4SQCaQkWuRu50KOa38fExWuTwuXkAS+sNNZP1hZK6jLgQugP8NVJTLRTDGaO4ycZjflxeDWklEYRqRhL7NQbn+ZwCiHeBgP/9p0TiKVC3SP1Tc0NwP/lA+6nHmNQ2EgGHhN4UarskgViCv/DtC4s4VCDE80mRAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAADPklEQVR4Xu2bMWgUQRSG98BO1GCaHIIEm7ioCNqJnY2FXmchCCqijY2NhUoqEQsbBW0E0SJgYRctbOzETkEU1zQiQrhYnETFTjiZ2bzh3bi7M2/vzYznvWtus7c7773//967uVzSyeQx1Qp0qNVfPLxv2HTPvZfvyGtScpD4vPqTzRIDeA2gwK+u5dbfGwBXYCjky/ovffj0/SfvtX1EkPjN4LXV39skMSCMAT7w+3R+MABs46HDd85sHskdzuOTHFNA4o+Cx62/cwKIAWENcE2A0Pp7A1DV4TAFFu9cNXWcP33NHHNOAIlf7q3wg0P/oABwbAahA9oAIPHdm3EnAMf37hr53L/87LaGsHfsUgYE3l26YcD8OihJnTt40rm2a/yp1yV+WP2dJokBYQ1wNUFo/ckAQMIwCewCPsz39Kk9WeZc21V81QSQ+KUCXPo7TbIJFAN4DXA1QWj9nQBAgnWjyC6Aew8g8UsFQukvALhacOP1UAZ4hk8PACS69vpx47eBXLv/OmEkPq/+3hNAACgV+N8AJANwZvGWngCDtVUtyOzcDv386Ppl8lq+4w9fJ/F59SebJgbwGkBtAm79WwPw8NyCzv3sg5UkE2Ca40PtHPpPLACqeAxB7LegVAAOPy+bTTg03zhvwRMNAIagM98j10Idv+p6GMEpAcDGQw1tG4AsWmoBID42r/vxhfnx5pPnnSsnjuouUcdtTG66J2b9uA44Vrn1dx/5K8WoAGDBIaG2CVANqgMAG4/X5IZAxY9RPzYc6oEakwFQRaHdfVRDqde7JkDVelwQxKq/ynxc1z8BQEihfUawfY3dlSGmgMuYEKDZdVaZH20TGEsA11Q4dWBBv8d3Z7bpSzfNbq+9hcsUFSBm/U2xfg++6Xr769/189KbldZ7HdKNMQVogsAXAE7zYwPQFG+qAYBv5dQfnF44tF9Pgvuv3pqdP94wuSYJ9fUUDWDHHKz2ddqqZqwFtRa4njQBcBAVvLt1i0mmbQLU++oAwB3D3flVOQJ8/R8/2f8Lyo6HPw5i6JMCkGXZMM9zk2tRFK1hIkJgfhOWKL5ON89zk0dRFOpUlPor4o7VzOMkLQBsSD/JAPwBALNNTp/ZM+IAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAACB0lEQVRIS5WVv0uCQRjH703QhCQooaIGMwgi2qpVqKWgIcKpKfoDWgohaHBva2uqKQhao4YIrD+hIgoyByMCC0LBErT4nnyP5z3vNbvlvR/P3fdzz/M99dTF7Y/6o63lztRhatEXxbml8o6eT8VrvvVcKdxyKmPOn+pmzesEANESQvbni5sq2httAcAeQFCUQBgDYGEspL8GIDsyaaiyxTvTD70nVL2/oAFkY0YkgBSUsZivflY1KNrM4LS6erjWYw0gxeVGCcIs4CvLsRvJ+MB4u4+9hrpZ7dZrU0df+ssxANAA8S8Al1UIAOHZU88XAkFbHOO+ja7OPcDUy1tP1JLmgPVYWtcS4pXqt+qJRny3JQA3yBiA6AywzgjC4ffhvI4PqjsPQ+zywYqBkYdLQfQJhr6Ma/sKgpwv87y9v2WG8aFh3S+9vvhK4QIjiBc6rujfAThdtnZvH3HMGgEobgNAnBmQfWr5SsDasgQu09lzAAi6uZ1uZqKlBLjNeKzpTIpLX7hAsI6WOUm3AACokG/6yG7wgsyE8QAF595G1eXAs06xhJJjgtompJgNkEg2Xw2gAIB1+sQHQC8QxhbF+mO5ocGYKZSgnfuxBwAUtMulTcibUkCC2KVxeUDWVq7Lp2fvYxmczzDod4GHsP54OfIZ2qaTokFG/fPf0PUyJKCrBEHv3gX4C3fMWq16oO9EAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAC9ElEQVR4Xu2bMUgcURCGd5FABAubQOw03RYpQkgR0tgIV6h4hRJDbFIl6S0ipBK0SJ9YXSOoaHFBxRzYpAmpgkWKLQJeuuQIQgpjAkFW3pyz3D5ub9579/YttzvX7N3e7v4z/3wz+/ZE3+NXqR3wdbOPNryo1zn+c0/7mjoxsL5d/7WLxQWwWwAd+MWxtv1XBoASxkSav4bg7Z3Xl8rXVjGB9XuDZ+q/cpG4ANkUQAV+lc7PDAC58NjhE7cuE7HjfjmhficB6yfBs+0/OQG4ANkWgJoAWfuvDEBah+MkaD3Yhlwujp4mcrI1AVi/vbaSX/36zwAQLYgdmBeAp6tDPR+7MwdADmBiqQ6WNTersI3XApV9+Nw6+5OYBP1OANZPAmDbf3ICDHoBsMFNQSx6/toAoKFIojxB/fFZ2HW6auf3gLQRSOl7XvsXSTzfFgBFy58BINYApgAOSgOQAKA/aaNQ9g/XALfvLypfm3oU6uxkqgNZv70GU/VfuUgMQPfF2KA3gDIAmOjPL9s9H0tUyVPp+m7HsL5d/xkATRKLBqA2ANP1OZgAd7f+gXVfn9yE7WH1vfa1VLx/NV9JTBzUc6Uvx1i0/LWL5tqAWq0WffuwG9ehbABknT8JgNyBWIm1Ny/h7cryW9iu7zXIa6l0vHyMbIBr/aLnTxaNC5CcQEUDUBsAHMEH956BFzMntVzWAK7000awK/20NZAtfRKArAOgbgus330RnDsAcuFcPwWwftIBU/+NJ4CrAqQ9hrnST5tArvSzzp8BIO5BpQcgzZ+ppc/RyMgYfF1/N06CRN3rdb4X2uL4vPSFdvXFd4jh/PyHd7z50Gn+ndoihn70jQNnAEoOwKOZnejG8Cg07sfdijFIOp0vjhW6Yvvp4LE/udCA9y71MV7U/v/3N8Sim4fp8Z05d3phej3jwBmANnylBUD8m1oQBDF4YRgaw6RJb/zHoZz0IdwgCOI4wjAUu5zk30UX7TPSNzrpWpEBuDZikAG4AoTccE5ZZQccAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAf0lEQVQ4T7VTWw7AIAjD+x/aBZOSIo/FmfknpZVHHZKfWcQ1PBhzFxFh4o4pL+CcBDAj7gVZLpJPyBBbHBXoyK8tQaCbRTuzTKCqKIvPXwSwrqqt4AMtLUu+FmDXVduwGQSLbq7jlTvzsZFOHGirvXHiEvn6F0IFzt/NVwZkDz/OZygJThsIYgAAAABJRU5ErkJggg=="},,,function(e,t,i){e.exports=i(26)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var s,n=i(2),o=i.n(n),a=i(8),r=i.n(a),c=(i(21),i(22),i(0)),h=i(1),l=i(4),u=i(3),p=i(6),v=i(5),f=(i(23),i(24),function e(){Object(c.a)(this,e)});f.canvasSize={w:755,h:425},f.gravity=2,f.fps=30,f.gameInterval=void 0,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HIDDEN=1]="HIDDEN",e[e.HURTFUL=2]="HURTFUL",e[e.EXIT=3]="EXIT",e[e.TRAMPOLINE=4]="TRAMPOLINE",e[e.ICE=5]="ICE"}(s||(s={}));var d=function(){function e(t,i){Object(c.a)(this,e),this._tileX=void 0,this._tileY=void 0,this._tileX=t,this._tileY=i}return Object(h.a)(e,[{key:"getXPosForSpriteWidth",value:function(e){return e*this._tileX}},{key:"getYPosForSpriteHeight",value:function(e){return e*this._tileY}},{key:"tileX",get:function(){return this._tileX},set:function(e){this._tileX=e}},{key:"tileY",get:function(){return this._tileY},set:function(e){this._tileY=e}}]),e}(),y=i(27),g=function(){function e(t,i,s,n,o){Object(c.a)(this,e),this._id=void 0,this._xPos=void 0,this._yPos=void 0,this._xPosCanvas=void 0,this._yPosCanvas=void 0,this._spritePos=void 0,this._collision=void 0,this._solid=void 0,this._hurtful=void 0,this._type=void 0,this._friction=.8,this._targetSize=void 0,this._xPos=0,this._yPos=0,this._xPosCanvas=0,this._yPosCanvas=0,this._spritePos=t,this._collision=i,this._solid=s,this._hurtful=n,this._type=o,this._targetSize=e.targetSize,this.setFriction(),this._id=Object(y.a)()}return Object(h.a)(e,[{key:"cloneTile",value:function(){var t=new e(new d(this.spritePos.tileX,this.spritePos.tileY),this.collision,this.solid,this.hurtful,this.type);return t.xPos=this._xPos,t.yPos=this._yPos,t.xPosCanvas=this._xPosCanvas,t.yPosCanvas=this._yPosCanvas,t}},{key:"setFriction",value:function(){switch(this._type){case s.ICE:this._friction=.95;break;default:this._friction=.9}}},{key:"id",get:function(){return this._id}},{key:"xPos",get:function(){return this._xPos},set:function(e){this._xPos=e}},{key:"yPos",get:function(){return this._yPos},set:function(e){this._yPos=e}},{key:"xPosCanvas",get:function(){return this._xPosCanvas},set:function(e){this._xPosCanvas=e}},{key:"yPosCanvas",get:function(){return this._yPosCanvas},set:function(e){this._yPosCanvas=e}},{key:"spritePos",get:function(){return this._spritePos},set:function(e){this._spritePos=e}},{key:"collision",get:function(){return this._collision},set:function(e){this._collision=e}},{key:"solid",get:function(){return this._solid},set:function(e){this._solid=e}},{key:"hurtful",get:function(){return this._hurtful},set:function(e){this._hurtful=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"targetSize",get:function(){return this._targetSize}},{key:"friction",get:function(){return this._friction}}],[{key:"sourceSize",get:function(){return e._sourceSize}},{key:"targetSize",get:function(){return e._targetSize}}]),e}();g._sourceSize=16,g._targetSize=32;var m=function(e){function t(e){var i;return Object(c.a)(this,t),(i=Object(l.a)(this,Object(u.a)(t).call(this,e))).gameCanvasRef=void 0,i.gameSketchImgRef=void 0,i.ctx=void 0,i.gameCanvasRef=o.a.createRef(),i.gameSketchImgRef=o.a.createRef(),i}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.ctx&&(this.drawLevel(this.props.currentLevel,this.props.levelPosX),this.drawEntities(this.props.entities,this.props.levelPosX)),o.a.createElement("div",null,o.a.createElement("canvas",{ref:this.gameCanvasRef,width:f.canvasSize.w,height:f.canvasSize.h}))}},{key:"componentDidMount",value:function(){var e=this.gameCanvasRef.current;this.ctx=e.getContext("2d")}},{key:"drawLevel",value:function(e,t){var i=this;this.ctx.clearRect(0,0,f.canvasSize.w,f.canvasSize.h),t<0&&(t=0);var s=Math.trunc(t/g.targetSize),n=t%g.targetSize,o=s+e.map.numberOfDisplayedTilesWidth;e.map.mapTiles.forEach((function(t,a){i.drawLayer(t,a,s,o,n,e)}))}},{key:"drawLayer",value:function(e,t,i,s,n,o){for(var a=i;a<s;a++){var r=e[a];r&&(r.xPosCanvas=a*g.targetSize-n,r.yPosCanvas=t*g.targetSize,this.ctx.drawImage(o.map.spriteMap,r.spritePos.getXPosForSpriteWidth(g.sourceSize+1),r.spritePos.getYPosForSpriteHeight(g.sourceSize+1),g.sourceSize-.8,g.sourceSize-.8,r.xPosCanvas-i*g.targetSize,r.yPosCanvas,g.targetSize,g.targetSize))}}},{key:"drawEntities",value:function(e,t){var i=this;e.forEach((function(e){i.ctx.drawImage(e.spriteMap,e.spritePos.getXPosForSpriteWidth(e.sourceSize),e.spritePos.getYPosForSpriteHeight(e.sourceSize),e.sourceSize,e.sourceSize,e.xPos-t,e.yPos,e.targetSize,e.targetSize)}))}}]),t}(o.a.Component),P=(i(25),function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"GameUI"},o.a.createElement("header",{className:"GameUI-header"}))}},{key:"drawUI",value:function(){}}]),t}(o.a.Component)),A=function(){function e(){Object(c.a)(this,e)}return Object(h.a)(e,null,[{key:"registerKeyEvents",value:function(){window.onkeydown=function(t){switch(t.keyCode){case 37:t.preventDefault(),e.heldLeft=!0;break;case 32:case 38:t.preventDefault(),e.heldUp=!0;break;case 39:t.preventDefault(),e.heldRight=!0;break;case 40:t.preventDefault(),e.heldDown=!0;break;case 27:t.preventDefault(),e.Escape=!0;break;case 69:t.preventDefault(),e.heldE=!0;break;default:return}return!1},window.onkeyup=function(t){switch(t.keyCode){case 37:t.preventDefault(),e.heldLeft=!1;break;case 32:case 38:t.preventDefault(),e.heldUp=!1;break;case 39:t.preventDefault(),e.heldRight=!1;break;case 40:t.preventDefault(),e.heldDown=!1;break;case 69:t.preventDefault(),e.heldE=!1;break;default:return}return!1}}}]),e}();A.heldLeft=!1,A.heldRight=!1,A.heldUp=!1,A.heldDown=!1,A.Escape=!1,A.heldE=!1;var k=A,S=function(){function e(t,i,s,n,o){Object(c.a)(this,e),this._name=void 0,this._backgroundColor=void 0,this._map=void 0,this._enemies=void 0,this._items=void 0,this._name=t,this._backgroundColor=i,this._map=s,this._enemies=n,this._items=o}return Object(h.a)(e,[{key:"name",get:function(){return this._name}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"map",get:function(){return this._map}},{key:"enemies",get:function(){return this._enemies}},{key:"items",get:function(){return this._items},set:function(e){this._items=e}}]),e}(),_=function(){function e(t,i,s,n,o,a,r){Object(c.a)(this,e),this._id=void 0,this._xPos=void 0,this._yPos=void 0,this._collision=void 0,this._spriteMap=void 0,this._spritePos=void 0,this._sourceSize=void 0,this._targetSize=void 0,this._xPos=t,this._yPos=i,this._collision=r,this._spriteMap=s,this._spritePos=n,this._sourceSize=o,this._targetSize=a,this._id=Object(y.a)()}return Object(h.a)(e,[{key:"handleLevelEdgeCollision",value:function(e){}},{key:"fellOutOfMap",value:function(){}},{key:"id",get:function(){return this._id}},{key:"xPos",get:function(){return this._xPos},set:function(e){this._xPos=e}},{key:"yPos",get:function(){return this._yPos},set:function(e){this._yPos=e}},{key:"spriteMap",get:function(){return this._spriteMap},set:function(e){this._spriteMap=e}},{key:"spritePos",get:function(){return this._spritePos},set:function(e){this._spritePos=e}},{key:"sourceSize",get:function(){return this._sourceSize},set:function(e){this._sourceSize=e}},{key:"targetSize",get:function(){return this._targetSize},set:function(e){this._targetSize=e}},{key:"collision",get:function(){return this._collision}}]),e}(),b=function(e){function t(e,i,s,n,o,a,r,h){var p;return Object(c.a)(this,t),(p=Object(l.a)(this,Object(u.a)(t).call(this,e,i,s,n,o,a,r)))._isCollected=void 0,p._isCollected=h,p}return Object(v.a)(t,e),Object(h.a)(t,[{key:"animate",value:function(e){}},{key:"isCollected",get:function(){return this._isCollected},set:function(e){this._isCollected=e}}]),t}(_),O=i(9),C=i.n(O),x=function(e){function t(e,i){Object(c.a)(this,t);var s=new Image;s.src=C.a;var n=new d(0,0);return Object(l.a)(this,Object(u.a)(t).call(this,e,i,s,n,16,32,!0,!1))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"animate",value:function(e){if(e%10===0)switch(this.spritePos.tileX){case 0:this.spritePos.tileX=1;break;case 1:this.spritePos.tileX=2;break;case 2:this.spritePos.tileX=0}}}]),t}(b),w=function(e){function t(e,i,s,n,o,a,r,h,p,v,f,d){var y;return Object(c.a)(this,t),(y=Object(l.a)(this,Object(u.a)(t).call(this,e,i,s,n,o,a,d)))._xSpeed=void 0,y._ySpeed=void 0,y._xVelocity=void 0,y._xVelocityJump=void 0,y._yVelocity=void 0,y._friction=void 0,y._lives=void 0,y._xSpeed=0,y._ySpeed=0,y._xVelocity=r,y._xVelocityJump=h,y._yVelocity=p,y._friction=v,y._lives=f,y}return Object(v.a)(t,e),Object(h.a)(t,[{key:"addLife",value:function(){this._lives+=1}},{key:"takeDamage",value:function(){this._lives-=1}},{key:"kill",value:function(){this._lives=0}},{key:"isDead",value:function(){return this._lives<=0}},{key:"xSpeed",get:function(){return this._xSpeed},set:function(e){this._xSpeed=e}},{key:"ySpeed",get:function(){return this._ySpeed},set:function(e){this._ySpeed=e}},{key:"xVelocity",get:function(){return this._xVelocity}},{key:"xVelocityJump",get:function(){return this._xVelocityJump}},{key:"yVelocity",get:function(){return this._yVelocity}},{key:"friction",get:function(){return this._friction},set:function(e){this._friction=e}},{key:"lives",get:function(){return this._lives},set:function(e){this._lives=e}}]),t}(_),z=function(e){function t(e,i,s,n,o,a,r,h,p,v,f,d,y){var g;return Object(c.a)(this,t),(g=Object(l.a)(this,Object(u.a)(t).call(this,e,i,s,n,o,a,r,h,p,f,d,y)))._speedLimitY=void 0,g._speedLimitY=v,g}return Object(v.a)(t,e),Object(h.a)(t,[{key:"fellOutOfMap",value:function(){this.kill()}},{key:"animate",value:function(e){}},{key:"move",value:function(e){}},{key:"applyGravity",value:function(e){}},{key:"switchDirection",value:function(){}},{key:"handleLevelEdgeCollision",value:function(e){this.xPos<0?(this.xPos=0,this.switchDirection()):this.xPos+this.targetSize>e.mapWidth&&(this.xPos=e.mapWidth-this.targetSize,this.switchDirection())}},{key:"speedLimitY",get:function(){return this._speedLimitY},set:function(e){this._speedLimitY=e}}]),t}(w),L=i(10),j=i.n(L),E=function(e){function t(e,i){var s;Object(c.a)(this,t);var n=new Image;n.src=j.a;var o=new d(0,0);return(s=Object(l.a)(this,Object(u.a)(t).call(this,e,i,n,o,32,32,2,1,25,25,.4,1,!0))).movingRight=void 0,s.movingLeft=void 0,s.xSpeed=4,s.movingLeft=!0,s.movingRight=!s.movingLeft,s}return Object(v.a)(t,e),Object(h.a)(t,[{key:"animate",value:function(e){if(e%4===0)switch(this.spritePos.tileX){case 0:this.spritePos.tileX=1;break;case 1:this.spritePos.tileX=2;break;case 2:this.spritePos.tileX=3;break;case 3:default:this.spritePos.tileX=0}}},{key:"move",value:function(e){this.movingLeft?this.moveLeft(e):this.movingRight&&this.moveRight(e)}},{key:"moveLeft",value:function(e){var t=e.getMapTileAtXY(this.xPos,this.yPos+this.targetSize);!t||t.solid&&!t.hurtful?this.xPos-=this.xSpeed:this.switchDirection()}},{key:"moveRight",value:function(e){var t=e.getMapTileAtXY(this.xPos+this.targetSize,this.yPos+this.targetSize);!t||t.solid&&!t.hurtful?this.xPos+=this.xSpeed:this.switchDirection()}},{key:"switchDirection",value:function(){this.movingLeft=!this.movingLeft,this.movingRight=!this.movingRight}},{key:"applyGravity",value:function(e){this.ySpeed=this.ySpeed+e>this.speedLimitY?this.speedLimitY:this.ySpeed+e,this.yPos+=this.ySpeed}}]),t}(z),D=i(11),R=i.n(D),I=function(){function e(t){Object(c.a)(this,e),this._mapTiles=void 0,this._spriteMap=void 0,this._numberOfDisplayedTilesWidth=void 0,this._numberOfDisplayTilesHeight=void 0,this._mapWidth=void 0,this._mapHeight=void 0,this._mapTiles=this.generateMapTiles(t),this._spriteMap=new Image,this._spriteMap.src=R.a,this._numberOfDisplayedTilesWidth=f.canvasSize.w/g.targetSize,this._numberOfDisplayTilesHeight=f.canvasSize.h/g.targetSize,this._mapWidth=g.targetSize*this._mapTiles[0].length,this._mapHeight=g.targetSize*this._mapTiles.length}return Object(h.a)(e,[{key:"generateMapTiles",value:function(t){var i=[];return t.forEach((function(t,s){for(var n=[],o=0;o<t.length;o++){var a=n.push(e.tiles[t[o]].cloneTile())-1;n[a].xPos=o*g.targetSize,n[a].yPos=s*g.targetSize}i.push(n)})),i}},{key:"getGroundLevel",value:function(){return this.mapHeight-2*g.targetSize}},{key:"getMapTileAtXY",value:function(e,t){var i=Math.trunc(e/g.targetSize),s=Math.trunc(t/g.targetSize);return this.mapTiles[s][i]}},{key:"mapTiles",get:function(){return this._mapTiles},set:function(e){this._mapTiles=e}},{key:"spriteMap",get:function(){return this._spriteMap},set:function(e){this._spriteMap=e}},{key:"numberOfDisplayedTilesWidth",get:function(){return this._numberOfDisplayedTilesWidth}},{key:"mapWidth",get:function(){return this._mapWidth}},{key:"mapHeight",get:function(){return this._mapHeight}}]),e}();I.tiles={" ":new g(new d(0,0),!1,!1,!1,s.DEFAULT),"#":new g(new d(1,0),!0,!0,!1,s.DEFAULT)};var M=function(){function e(){Object(c.a)(this,e)}return Object(h.a)(e,null,[{key:"getCoordinateForRelativeMapPos",value:function(e){return g.targetSize*e}}]),e}();M.levels=[new S("1","grey",new I(["                                  ","                                  ","                                  ","                                  ","  #######                         ","                  #######         ","                                  ","                                  ","##################################"]),[new E(M.getCoordinateForRelativeMapPos(20),M.getCoordinateForRelativeMapPos(4))],[new x(M.getCoordinateForRelativeMapPos(10),M.getCoordinateForRelativeMapPos(1))]),new S("2","grey",new I(["","",""]),[new E(0,0)],[new x(0,0)])];var X=M,T=function(){function e(t,i,s,n){Object(c.a)(this,e),this._top=void 0,this._bot=void 0,this._right=void 0,this._left=void 0,this._top=t||!1,this._bot=i||!1,this._right=n||!1,this._left=s||!1}return Object(h.a)(e,[{key:"doesCollide",value:function(){return this._top||this._bot||this._right||this._left}},{key:"top",get:function(){return this._top},set:function(e){this._top=e}},{key:"bot",get:function(){return this._bot},set:function(e){this._bot=e}},{key:"right",get:function(){return this._right},set:function(e){this._right=e}},{key:"left",get:function(){return this._left},set:function(e){this._left=e}}]),e}(),Q=function(){function e(t){Object(c.a)(this,e),this._collisionObjects=void 0,this._collisionObjects=t||[]}return Object(h.a)(e,[{key:"collisionObjects",get:function(){return this._collisionObjects},set:function(e){this._collisionObjects=e}}],[{key:"checkCollision",value:function(e,t){var i=new T,s=e.xPos+e.targetSize/2,n=e.yPos+e.targetSize/2,o=e.xPos+e.targetSize,a=e.yPos+e.targetSize,r=t.xPos+t.targetSize,c=t.yPos+t.targetSize;return this.inRange(s,t.xPos-.25*t.targetSize,t.xPos+1.25*t.targetSize)&&(this.inRange(a,t.yPos,c)&&e.yPos<t.yPos?i.bot=!0:this.inRange(e.yPos,t.yPos,c)&&(i.top=!0)),this.inRange(n,t.yPos-.25*t.targetSize,t.yPos+1.25*t.targetSize)&&(this.inRange(o,t.xPos,r)&&(i.right=!0),this.inRange(e.xPos,t.xPos,r)&&(i.left=!0)),i}},{key:"processPlayerNpcCollision",value:function(e,t,i){i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0,t.takeDamage(),e.smallJump()):(i.top||i.right||i.left)&&e.takeDamage()}},{key:"processPlayerMapTileCollision",value:function(e,t,i,n){switch(t.solid&&(i.top?(e.yPos=t.yPos+t.targetSize,e.ySpeed=1):i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0,e.xSpeed*=t.friction):i.right?(e.xPos=t.xPos-e.targetSize,e.xSpeed=0):i.left&&(e.xPos=t.xPos+t.targetSize,e.xSpeed=0)),t.type){case s.HURTFUL:e.takeDamage();break;case s.TRAMPOLINE:e.bigJump();break;case s.EXIT:n.levelEnd=!0}}},{key:"processEnemyMapTileCollision",value:function(e,t,i){switch(t.solid&&(i.top?(e.yPos=t.yPos+t.targetSize,e.ySpeed=1):i.bot?(e.yPos=t.yPos-e.targetSize,e.ySpeed=0):i.right?(e.xPos=t.xPos-e.targetSize,e.switchDirection()):i.left&&(e.xPos=t.xPos+t.targetSize,e.switchDirection())),t.type){case s.HURTFUL:e.takeDamage()}}},{key:"processPlayerItemCollision",value:function(e,t,i){t instanceof x&&(e.addEcts(),t.isCollected=!0)}},{key:"inRange",value:function(e,t,i){return e>=t&&e<=i}}]),e}(),B=i(14),F=i(12),N=i.n(F),U=i(13),V=i.n(U),Y=function(e){function t(e,i,s){var n;Object(c.a)(this,t);var o=new Image;o.src=V.a;var a=new d(0,0);return(n=Object(l.a)(this,Object(u.a)(t).call(this,e,i,o,a,16,32,!0)))._hasCollided=void 0,n._xSpeed=void 0,n._range=void 0,n.startXPos=void 0,n._xSpeed=s?15:-15,n._hasCollided=!1,n.startXPos=0,n._range=10*g.targetSize,n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"updatePos",value:function(e,t){this.startXPos=e,this.xPos=e,this.yPos=t}},{key:"animate",value:function(e){}},{key:"move",value:function(){this.xPos+=this._xSpeed}},{key:"handleLevelEdgeCollision",value:function(e){(this.xPos<0||this.xPos>e.mapWidth)&&(this._hasCollided=!0)}},{key:"fellOutOfMap",value:function(){this._hasCollided=!0}},{key:"shouldBeDestroyed",value:function(){return this.hasCollided||this.reachedRangeLimit()}},{key:"reachedRangeLimit",value:function(){return Math.abs(this.xPos-this.startXPos)>this._range}},{key:"hasCollided",get:function(){return this._hasCollided},set:function(e){this._hasCollided=e}}]),t}(_),W=function(e){function t(e,i){var s;Object(c.a)(this,t);var n=new Image;n.src=N.a;var o=new d(0,0);return(s=Object(l.a)(this,Object(u.a)(t).call(this,e,i,n,o,32,42,2,2,25,.9,3,!0)))._speedLimitX=void 0,s._speedLimitY=void 0,s._tookDamage=void 0,s._ects=void 0,s._facingRight=void 0,s._shootCooldown=void 0,s._shootCooldownTime=void 0,s._speedLimitX=12,s._speedLimitY=25,s._tookDamage=!1,s._ects=0,s._facingRight=!0,s._shootCooldown=0,s._shootCooldownTime=15,s}return Object(v.a)(t,e),Object(h.a)(t,[{key:"accelerateRight",value:function(){this.xSpeed<this._speedLimitX&&(0===this.ySpeed?this.xSpeed+=this.xVelocity*this.friction:this.xSpeed+=this.xVelocityJump*this.friction),this._facingRight=this.xSpeed>0}},{key:"accelerateLeft",value:function(){this.xSpeed>-this._speedLimitX&&(0===this.ySpeed?this.xSpeed-=this.xVelocity*this.friction:this.xSpeed-=this.xVelocityJump*this.friction),this._facingRight=this.xSpeed>0}},{key:"jump",value:function(){0===this.ySpeed&&(this.ySpeed-=this.yVelocity)}},{key:"smallJump",value:function(){0===this.ySpeed&&(this.ySpeed-=this.yVelocity/2)}},{key:"bigJump",value:function(){0===this.ySpeed&&(this.ySpeed-=2*this.yVelocity)}},{key:"animate",value:function(e){if(e%4!==0||0===this.xSpeed&&0===this.ySpeed)this.spritePos.tileX=0;else switch(this.spritePos.tileX){case 0:this.spritePos.tileX=1;break;case 1:this.spritePos.tileX=2;break;case 2:this.spritePos.tileX=3;break;case 3:default:this.spritePos.tileX=0}}},{key:"applyGravity",value:function(e){this.ySpeed=this.ySpeed+e>this.speedLimitY?this.speedLimitY:this.ySpeed+e}},{key:"updatePos",value:function(){this.xPos+=this.xSpeed,this.yPos+=this.ySpeed}},{key:"resetPlayer",value:function(){this.lives=3,this._tookDamage=!1}},{key:"fellOutOfMap",value:function(){this.takeDamage()}},{key:"takeDamage",value:function(){Object(B.a)(Object(u.a)(t.prototype),"takeDamage",this).call(this),this._tookDamage=!0}},{key:"handleLevelEdgeCollision",value:function(e){this.xPos<0?(this.xPos=0,this.xSpeed=0):this.xPos+this.targetSize>e.mapWidth&&(this.xPos=e.mapWidth-this.targetSize,this.xSpeed=0)}},{key:"shoot",value:function(){if(!this.canShoot())return null;if(this._shootCooldown=this._shootCooldownTime,this._facingRight){var e=new Y(0,0,!0);return e.updatePos(this.xPos+this.targetSize,this.yPos),e}var t=new Y(0,0,!1);return t.updatePos(this.xPos-t.targetSize,this.yPos),t}},{key:"updateShootCooldown",value:function(){this._shootCooldown>0&&this._shootCooldown--}},{key:"addEcts",value:function(){this._ects++}},{key:"canShoot",value:function(){return this._shootCooldown<=0}},{key:"speedLimitY",get:function(){return this._speedLimitY},set:function(e){this._speedLimitY=e}},{key:"tookDamage",get:function(){return this._tookDamage},set:function(e){this._tookDamage=e}},{key:"ects",get:function(){return this._ects}}]),t}(w),G=function e(){Object(c.a)(this,e),this.levelEnd=!1},H=function(e){function t(e){var i;return Object(c.a)(this,t),(i=Object(l.a)(this,Object(u.a)(t).call(this,e))).ticks=0,i.currentLevel=X.levels[0],i.levelPosX=0,i.entities=[],i.currentEctsScore=0,i.player=new W(0,0),i.characters=[],i.projectiles=[],i.collisionMap=new Q,i.state={ticks:0,currentLevel:X.levels[0],levelPosX:0,entities:[],currentEctsScore:0},i.gameLoop=i.gameLoop.bind(Object(p.a)(i)),i.startGame(),i}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Game"},o.a.createElement("header",{className:"Game-header"},o.a.createElement(P,null),o.a.createElement(m,{currentLevel:this.state.currentLevel,ticks:this.state.ticks,levelPosX:this.state.levelPosX,entities:this.state.entities})))}},{key:"startGame",value:function(){k.registerKeyEvents(),this.initializeLevel(this.currentLevel),window.clearInterval(f.gameInterval),f.gameInterval=setInterval(this.gameLoop,1e3/f.fps)}},{key:"initializeLevel",value:function(e){this.currentLevel=e,this.collisionMap.collisionObjects=[],this.player.resetPlayer(),this.respawnPlayer(),this.levelPosX=0,this.characters=this.currentLevel.enemies.slice(),this.characters.push(this.player),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.enemies),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.items),this.collisionMap.collisionObjects=this.collisionMap.collisionObjects.concat(this.currentLevel.map.mapTiles.flat().filter((function(e){return e.collision})))}},{key:"gameLoop",value:function(){this.ticks++,this.characters=this.currentLevel.enemies.slice(),this.characters.push(this.player),this.updatePlayer(),this.updateNpc(),this.updateItems(),this.updateProjectiles(),this.player.tookDamage&&this.respawnPlayer(),this.player.isDead()&&this.gameOver(),this.updateState()}},{key:"updateState",value:function(){this.entities=[],this.entities=this.entities.concat(this.currentLevel.items),this.entities=this.entities.concat(this.currentLevel.enemies),this.entities=this.entities.concat(this.projectiles),this.entities.push(this.player),this.setState({currentEctsScore:this.currentEctsScore,currentLevel:this.currentLevel,entities:this.entities,levelPosX:this.levelPosX,ticks:this.ticks})}},{key:"updatePlayer",value:function(){if(k.heldRight&&this.player.accelerateRight(),k.heldLeft&&this.player.accelerateLeft(),k.heldUp&&this.player.jump(),k.heldE){var e=this.player.shoot();e&&this.projectiles.push(e)}Math.abs(this.player.xSpeed)<.8&&(this.player.xSpeed=0),Math.abs(this.player.ySpeed)<.1&&(this.player.ySpeed=0),this.player.animate(this.ticks),this.player.applyGravity(f.gravity),this.player.updatePos(),this.player.updateShootCooldown(),this.checkLevelEdgeCollision(this.player),this.updateMapPosition(this.player),this.checkPlayerCollisions()}},{key:"updateNpc",value:function(){var e=this;this.currentLevel.enemies.forEach((function(t,i,s){if(t.isDead())return s.splice(i,1),void e.collisionMap.collisionObjects.splice(e.collisionMap.collisionObjects.findIndex((function(e){return e.id===t.id})),1);t.animate(e.ticks),t.move(e.currentLevel.map),t.applyGravity(f.gravity),e.checkLevelEdgeCollision(t),e.checkEnemyCollisions(t)}))}},{key:"updateItems",value:function(){var e=this;this.currentLevel.items.forEach((function(t){t.isCollected&&t instanceof x&&e.currentEctsScore++,t.animate(e.ticks)})),this.currentLevel.items=this.currentLevel.items.filter((function(e){return!e.isCollected}))}},{key:"updateProjectiles",value:function(){var e=this;this.projectiles.forEach((function(t,i,s){if(t.shouldBeDestroyed()){s.splice(i,1);var n=e.collisionMap.collisionObjects.findIndex((function(e){return e.id===t.id}));-1!==n&&e.collisionMap.collisionObjects.splice(n,1)}else t.animate(e.ticks),t.move(),e.checkLevelEdgeCollision(t),e.checkProjectileCollisions(t)}))}},{key:"checkLevelEdgeCollision",value:function(e){e.handleLevelEdgeCollision(this.currentLevel.map),e.yPos>this.currentLevel.map.mapHeight-g.targetSize&&e.fellOutOfMap()}},{key:"updateMapPosition",value:function(e){this.levelPosX<=0?e.xPos>f.canvasSize.w/2&&(this.levelPosX=1):this.levelPosX>=this.currentLevel.map.mapWidth-f.canvasSize.w&&this.currentLevel.map.mapWidth>f.canvasSize.w?(this.levelPosX=this.currentLevel.map.mapWidth-f.canvasSize.w,e.xPos<this.currentLevel.map.mapWidth-f.canvasSize.w/2&&(this.levelPosX=this.currentLevel.map.mapWidth-f.canvasSize.w-1)):this.currentLevel.map.mapWidth>f.canvasSize.w&&(this.levelPosX+=e.xSpeed)}},{key:"checkPlayerCollisions",value:function(){var e=this;this.collisionMap.collisionObjects.forEach((function(t){var i=Q.checkCollision(e.player,t);if(i.doesCollide()){var s=new G;t instanceof z?Q.processPlayerNpcCollision(e.player,t,i):t instanceof g?Q.processPlayerMapTileCollision(e.player,t,i,s):t instanceof b&&Q.processPlayerItemCollision(e.player,t,i),s.levelEnd&&e.endLevel()}}))}},{key:"checkEnemyCollisions",value:function(e){this.collisionMap.collisionObjects.forEach((function(t){if(t instanceof g){var i=Q.checkCollision(e,t);Q.processEnemyMapTileCollision(e,t,i)}}))}},{key:"checkProjectileCollisions",value:function(e){this.collisionMap.collisionObjects.forEach((function(t){Q.checkCollision(e,t).doesCollide()&&(t instanceof g?e.hasCollided=!0:t instanceof z&&(t.takeDamage(),e.hasCollided=!0))}))}},{key:"respawnPlayer",value:function(){this.player.xPos=0,this.player.yPos=this.currentLevel.map.getGroundLevel()-10,this.player.xSpeed=0,this.player.ySpeed=0,this.player.tookDamage=!1,this.levelPosX=0}},{key:"endLevel",value:function(){var e=this,t=X.levels.findIndex((function(t){return t.name===e.currentLevel.name}));X.levels.length===t+1?this.gameEnd():this.initializeLevel(X.levels[t+1])}},{key:"gameOver",value:function(){alert("you lost!")}},{key:"gameEnd",value:function(){alert("you won!")}}]),t}(o.a.Component);var J=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null,"Life of PiBS"),o.a.createElement(H,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.4c01654c.chunk.js.map